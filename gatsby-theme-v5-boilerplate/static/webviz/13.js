/*! For license information please see 13.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2542:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"a",(function(){return URI}));var extendStatics,_a,isWindows,__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});if("object"==typeof process)isWindows="win32"===process.platform;else if("object"==typeof navigator){var userAgent=navigator.userAgent;isWindows=userAgent.indexOf("Windows")>=0}var _schemePattern=/^\w[\w\d+.-]*$/,_singleSlashStart=/^\//,_doubleSlashStart=/^\/\//;var _slash="/",_regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,URI=function(){function URI(schemeOrData,authority,path,query,fragment,_strict){void 0===_strict&&(_strict=!1),"object"==typeof schemeOrData?(this.scheme=schemeOrData.scheme||"",this.authority=schemeOrData.authority||"",this.path=schemeOrData.path||"",this.query=schemeOrData.query||"",this.fragment=schemeOrData.fragment||""):(this.scheme=function(scheme,_strict){return scheme||_strict?scheme:"file"}(schemeOrData,_strict),this.authority=authority||"",this.path=function(scheme,path){switch(scheme){case"https":case"http":case"file":path?path[0]!==_slash&&(path=_slash+path):path=_slash}return path}(this.scheme,path||""),this.query=query||"",this.fragment=fragment||"",function(ret,_strict){if(!ret.scheme&&_strict)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+ret.authority+'", path: "'+ret.path+'", query: "'+ret.query+'", fragment: "'+ret.fragment+'"}');if(ret.scheme&&!_schemePattern.test(ret.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ret.path)if(ret.authority){if(!_singleSlashStart.test(ret.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(_doubleSlashStart.test(ret.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,_strict))}return URI.isUri=function(thing){return thing instanceof URI||!!thing&&("string"==typeof thing.authority&&"string"==typeof thing.fragment&&"string"==typeof thing.path&&"string"==typeof thing.query&&"string"==typeof thing.scheme&&"function"==typeof thing.fsPath&&"function"==typeof thing.with&&"function"==typeof thing.toString)},Object.defineProperty(URI.prototype,"fsPath",{get:function(){return _makeFsPath(this)},enumerable:!0,configurable:!0}),URI.prototype.with=function(change){if(!change)return this;var scheme=change.scheme,authority=change.authority,path=change.path,query=change.query,fragment=change.fragment;return void 0===scheme?scheme=this.scheme:null===scheme&&(scheme=""),void 0===authority?authority=this.authority:null===authority&&(authority=""),void 0===path?path=this.path:null===path&&(path=""),void 0===query?query=this.query:null===query&&(query=""),void 0===fragment?fragment=this.fragment:null===fragment&&(fragment=""),scheme===this.scheme&&authority===this.authority&&path===this.path&&query===this.query&&fragment===this.fragment?this:new _URI(scheme,authority,path,query,fragment)},URI.parse=function(value,_strict){void 0===_strict&&(_strict=!1);var match=_regexp.exec(value);return match?new _URI(match[2]||"",decodeURIComponent(match[4]||""),decodeURIComponent(match[5]||""),decodeURIComponent(match[7]||""),decodeURIComponent(match[9]||""),_strict):new _URI("","","","","")},URI.file=function(path){var authority="";if(isWindows&&(path=path.replace(/\\/g,_slash)),path[0]===_slash&&path[1]===_slash){var idx=path.indexOf(_slash,2);-1===idx?(authority=path.substring(2),path=_slash):(authority=path.substring(2,idx),path=path.substring(idx)||_slash)}return new _URI("file",authority,path,"","")},URI.from=function(components){return new _URI(components.scheme,components.authority,components.path,components.query,components.fragment)},URI.prototype.toString=function(skipEncoding){return void 0===skipEncoding&&(skipEncoding=!1),_asFormatted(this,skipEncoding)},URI.prototype.toJSON=function(){return this},URI.revive=function(data){if(data){if(data instanceof URI)return data;var result=new _URI(data);return result._formatted=data.external,result._fsPath=data._sep===_pathSepMarker?data.fsPath:null,result}return data},URI}(),_pathSepMarker=isWindows?1:void 0,_URI=function(_super){function _URI(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._formatted=null,_this._fsPath=null,_this}return __extends(_URI,_super),Object.defineProperty(_URI.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=_makeFsPath(this)),this._fsPath},enumerable:!0,configurable:!0}),_URI.prototype.toString=function(skipEncoding){return void 0===skipEncoding&&(skipEncoding=!1),skipEncoding?_asFormatted(this,!0):(this._formatted||(this._formatted=_asFormatted(this,!1)),this._formatted)},_URI.prototype.toJSON=function(){var res={$mid:1};return this._fsPath&&(res.fsPath=this._fsPath,res._sep=_pathSepMarker),this._formatted&&(res.external=this._formatted),this.path&&(res.path=this.path),this.scheme&&(res.scheme=this.scheme),this.authority&&(res.authority=this.authority),this.query&&(res.query=this.query),this.fragment&&(res.fragment=this.fragment),res},_URI}(URI),encodeTable=((_a={})[58]="%3A",_a[47]="%2F",_a[63]="%3F",_a[35]="%23",_a[91]="%5B",_a[93]="%5D",_a[64]="%40",_a[33]="%21",_a[36]="%24",_a[38]="%26",_a[39]="%27",_a[40]="%28",_a[41]="%29",_a[42]="%2A",_a[43]="%2B",_a[44]="%2C",_a[59]="%3B",_a[61]="%3D",_a[32]="%20",_a);function encodeURIComponentFast(uriComponent,allowSlash){for(var res=void 0,nativeEncodePos=-1,pos=0;pos<uriComponent.length;pos++){var code=uriComponent.charCodeAt(pos);if(code>=97&&code<=122||code>=65&&code<=90||code>=48&&code<=57||45===code||46===code||95===code||126===code||allowSlash&&47===code)-1!==nativeEncodePos&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos,pos)),nativeEncodePos=-1),void 0!==res&&(res+=uriComponent.charAt(pos));else{void 0===res&&(res=uriComponent.substr(0,pos));var escaped=encodeTable[code];void 0!==escaped?(-1!==nativeEncodePos&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos,pos)),nativeEncodePos=-1),res+=escaped):-1===nativeEncodePos&&(nativeEncodePos=pos)}}return-1!==nativeEncodePos&&(res+=encodeURIComponent(uriComponent.substring(nativeEncodePos))),void 0!==res?res:uriComponent}function encodeURIComponentMinimal(path){for(var res=void 0,pos=0;pos<path.length;pos++){var code=path.charCodeAt(pos);35===code||63===code?(void 0===res&&(res=path.substr(0,pos)),res+=encodeTable[code]):void 0!==res&&(res+=path[pos])}return void 0!==res?res:path}function _makeFsPath(uri){var value;return value=uri.authority&&uri.path.length>1&&"file"===uri.scheme?"//"+uri.authority+uri.path:47===uri.path.charCodeAt(0)&&(uri.path.charCodeAt(1)>=65&&uri.path.charCodeAt(1)<=90||uri.path.charCodeAt(1)>=97&&uri.path.charCodeAt(1)<=122)&&58===uri.path.charCodeAt(2)?uri.path[1].toLowerCase()+uri.path.substr(2):uri.path,isWindows&&(value=value.replace(/\//g,"\\")),value}function _asFormatted(uri,skipEncoding){var encoder=skipEncoding?encodeURIComponentMinimal:encodeURIComponentFast,res="",scheme=uri.scheme,authority=uri.authority,path=uri.path,query=uri.query,fragment=uri.fragment;if(scheme&&(res+=scheme,res+=":"),(authority||"file"===scheme)&&(res+=_slash,res+=_slash),authority){var idx=authority.indexOf("@");if(-1!==idx){var userinfo=authority.substr(0,idx);authority=authority.substr(idx+1),-1===(idx=userinfo.indexOf(":"))?res+=encoder(userinfo,!1):(res+=encoder(userinfo.substr(0,idx),!1),res+=":",res+=encoder(userinfo.substr(idx+1),!1)),res+="@"}-1===(idx=(authority=authority.toLowerCase()).indexOf(":"))?res+=encoder(authority,!1):(res+=encoder(authority.substr(0,idx),!1),res+=authority.substr(idx))}if(path){if(path.length>=3&&47===path.charCodeAt(0)&&58===path.charCodeAt(2))(code=path.charCodeAt(1))>=65&&code<=90&&(path="/"+String.fromCharCode(code+32)+":"+path.substr(3));else if(path.length>=2&&58===path.charCodeAt(1)){var code;(code=path.charCodeAt(0))>=65&&code<=90&&(path=String.fromCharCode(code+32)+":"+path.substr(2))}res+=encoder(path,!0)}return query&&(res+="?",res+=encoder(query,!1)),fragment&&(res+="#",res+=skipEncoding?fragment:encodeURIComponentFast(fragment,!1)),res}}).call(this,__webpack_require__(12))},2551:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"setupMode",(function(){return setupMode}));var ParseOptions,WorkerManager=function(){function WorkerManager(defaults){var _this=this;this._defaults=defaults,this._worker=null,this._idleCheckInterval=setInterval((function(){return _this._checkIfIdle()}),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange((function(){return _this._stopWorker()}))}return WorkerManager.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},WorkerManager.prototype.dispose=function(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()},WorkerManager.prototype._checkIfIdle=function(){this._worker&&(Date.now()-this._lastUsedTime>12e4&&this._stopWorker())},WorkerManager.prototype._getClient=function(){return this._lastUsedTime=Date.now(),this._client||(this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy()),this._client},WorkerManager.prototype.getLanguageServiceWorker=function(){for(var _client,_this=this,resources=[],_i=0;_i<arguments.length;_i++)resources[_i]=arguments[_i];return this._getClient().then((function(client){_client=client})).then((function(_){return _this._worker.withSyncedResources(resources)})).then((function(_){return _client}))},WorkerManager}();function createScanner(text,ignoreTrivia){void 0===ignoreTrivia&&(ignoreTrivia=!1);var len=text.length,pos=0,value="",tokenOffset=0,token=16,lineNumber=0,lineStartOffset=0,tokenLineStartOffset=0,prevTokenLineStartOffset=0,scanError=0;function scanHexDigits(count,exact){for(var digits=0,value=0;digits<count||!exact;){var ch=text.charCodeAt(pos);if(ch>=48&&ch<=57)value=16*value+ch-48;else if(ch>=65&&ch<=70)value=16*value+ch-65+10;else{if(!(ch>=97&&ch<=102))break;value=16*value+ch-97+10}pos++,digits++}return digits<count&&(value=-1),value}function scanNext(){if(value="",scanError=0,tokenOffset=pos,lineStartOffset=lineNumber,prevTokenLineStartOffset=tokenLineStartOffset,pos>=len)return tokenOffset=len,token=17;var code=text.charCodeAt(pos);if(isWhiteSpace(code)){do{pos++,value+=String.fromCharCode(code),code=text.charCodeAt(pos)}while(isWhiteSpace(code));return token=15}if(isLineBreak(code))return pos++,value+=String.fromCharCode(code),13===code&&10===text.charCodeAt(pos)&&(pos++,value+="\n"),lineNumber++,tokenLineStartOffset=pos,token=14;switch(code){case 123:return pos++,token=1;case 125:return pos++,token=2;case 91:return pos++,token=3;case 93:return pos++,token=4;case 58:return pos++,token=6;case 44:return pos++,token=5;case 34:return pos++,value=function(){for(var result="",start=pos;;){if(pos>=len){result+=text.substring(start,pos),scanError=2;break}var ch=text.charCodeAt(pos);if(34===ch){result+=text.substring(start,pos),pos++;break}if(92!==ch){if(ch>=0&&ch<=31){if(isLineBreak(ch)){result+=text.substring(start,pos),scanError=2;break}scanError=6}pos++}else{if(result+=text.substring(start,pos),++pos>=len){scanError=2;break}switch(text.charCodeAt(pos++)){case 34:result+='"';break;case 92:result+="\\";break;case 47:result+="/";break;case 98:result+="\b";break;case 102:result+="\f";break;case 110:result+="\n";break;case 114:result+="\r";break;case 116:result+="\t";break;case 117:var ch3=scanHexDigits(4,!0);ch3>=0?result+=String.fromCharCode(ch3):scanError=4;break;default:scanError=5}start=pos}}return result}(),token=10;case 47:var start=pos-1;if(47===text.charCodeAt(pos+1)){for(pos+=2;pos<len&&!isLineBreak(text.charCodeAt(pos));)pos++;return value=text.substring(start,pos),token=12}if(42===text.charCodeAt(pos+1)){pos+=2;for(var safeLength=len-1,commentClosed=!1;pos<safeLength;){var ch=text.charCodeAt(pos);if(42===ch&&47===text.charCodeAt(pos+1)){pos+=2,commentClosed=!0;break}pos++,isLineBreak(ch)&&(13===ch&&10===text.charCodeAt(pos)&&pos++,lineNumber++,tokenLineStartOffset=pos)}return commentClosed||(pos++,scanError=1),value=text.substring(start,pos),token=13}return value+=String.fromCharCode(code),pos++,token=16;case 45:if(value+=String.fromCharCode(code),++pos===len||!isDigit(text.charCodeAt(pos)))return token=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return value+=function(){var start=pos;if(48===text.charCodeAt(pos))pos++;else for(pos++;pos<text.length&&isDigit(text.charCodeAt(pos));)pos++;if(pos<text.length&&46===text.charCodeAt(pos)){if(!(++pos<text.length&&isDigit(text.charCodeAt(pos))))return scanError=3,text.substring(start,pos);for(pos++;pos<text.length&&isDigit(text.charCodeAt(pos));)pos++}var end=pos;if(pos<text.length&&(69===text.charCodeAt(pos)||101===text.charCodeAt(pos)))if((++pos<text.length&&43===text.charCodeAt(pos)||45===text.charCodeAt(pos))&&pos++,pos<text.length&&isDigit(text.charCodeAt(pos))){for(pos++;pos<text.length&&isDigit(text.charCodeAt(pos));)pos++;end=pos}else scanError=3;return text.substring(start,end)}(),token=11;default:for(;pos<len&&isUnknownContentCharacter(code);)pos++,code=text.charCodeAt(pos);if(tokenOffset!==pos){switch(value=text.substring(tokenOffset,pos)){case"true":return token=8;case"false":return token=9;case"null":return token=7}return token=16}return value+=String.fromCharCode(code),pos++,token=16}}function isUnknownContentCharacter(code){if(isWhiteSpace(code)||isLineBreak(code))return!1;switch(code){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(newPosition){pos=newPosition,value="",tokenOffset=0,token=16,scanError=0},getPosition:function(){return pos},scan:ignoreTrivia?function(){var result;do{result=scanNext()}while(result>=12&&result<=15);return result}:scanNext,getToken:function(){return token},getTokenValue:function(){return value},getTokenOffset:function(){return tokenOffset},getTokenLength:function(){return pos-tokenOffset},getTokenStartLine:function(){return lineStartOffset},getTokenStartCharacter:function(){return tokenOffset-prevTokenLineStartOffset},getTokenError:function(){return scanError}}}function isWhiteSpace(ch){return 32===ch||9===ch||11===ch||12===ch||160===ch||5760===ch||ch>=8192&&ch<=8203||8239===ch||8287===ch||12288===ch||65279===ch}function isLineBreak(ch){return 10===ch||13===ch||8232===ch||8233===ch}function isDigit(ch){return ch>=48&&ch<=57}function visit(text,visitor,options){void 0===options&&(options=ParseOptions.DEFAULT);var _scanner=createScanner(text,!1);function toNoArgVisit(visitFunction){return visitFunction?function(){return visitFunction(_scanner.getTokenOffset(),_scanner.getTokenLength(),_scanner.getTokenStartLine(),_scanner.getTokenStartCharacter())}:function(){return!0}}function toOneArgVisit(visitFunction){return visitFunction?function(arg){return visitFunction(arg,_scanner.getTokenOffset(),_scanner.getTokenLength(),_scanner.getTokenStartLine(),_scanner.getTokenStartCharacter())}:function(){return!0}}var onObjectBegin=toNoArgVisit(visitor.onObjectBegin),onObjectProperty=toOneArgVisit(visitor.onObjectProperty),onObjectEnd=toNoArgVisit(visitor.onObjectEnd),onArrayBegin=toNoArgVisit(visitor.onArrayBegin),onArrayEnd=toNoArgVisit(visitor.onArrayEnd),onLiteralValue=toOneArgVisit(visitor.onLiteralValue),onSeparator=toOneArgVisit(visitor.onSeparator),onComment=toNoArgVisit(visitor.onComment),onError=toOneArgVisit(visitor.onError),disallowComments=options&&options.disallowComments,allowTrailingComma=options&&options.allowTrailingComma;function scanNext(){for(;;){var token=_scanner.scan();switch(_scanner.getTokenError()){case 4:handleError(14);break;case 5:handleError(15);break;case 3:handleError(13);break;case 1:disallowComments||handleError(11);break;case 2:handleError(12);break;case 6:handleError(16)}switch(token){case 12:case 13:disallowComments?handleError(10):onComment();break;case 16:handleError(1);break;case 15:case 14:break;default:return token}}}function handleError(error,skipUntilAfter,skipUntil){if(void 0===skipUntilAfter&&(skipUntilAfter=[]),void 0===skipUntil&&(skipUntil=[]),onError(error),skipUntilAfter.length+skipUntil.length>0)for(var token=_scanner.getToken();17!==token;){if(-1!==skipUntilAfter.indexOf(token)){scanNext();break}if(-1!==skipUntil.indexOf(token))break;token=scanNext()}}function parseString(isValue){var value=_scanner.getTokenValue();return isValue?onLiteralValue(value):onObjectProperty(value),scanNext(),!0}function parseValue(){switch(_scanner.getToken()){case 3:return function(){onArrayBegin(),scanNext();for(var needsComma=!1;4!==_scanner.getToken()&&17!==_scanner.getToken();){if(5===_scanner.getToken()){if(needsComma||handleError(4,[],[]),onSeparator(","),scanNext(),4===_scanner.getToken()&&allowTrailingComma)break}else needsComma&&handleError(6,[],[]);parseValue()||handleError(4,[],[4,5]),needsComma=!0}return onArrayEnd(),4!==_scanner.getToken()?handleError(8,[4],[]):scanNext(),!0}();case 1:return function(){onObjectBegin(),scanNext();for(var needsComma=!1;2!==_scanner.getToken()&&17!==_scanner.getToken();){if(5===_scanner.getToken()){if(needsComma||handleError(4,[],[]),onSeparator(","),scanNext(),2===_scanner.getToken()&&allowTrailingComma)break}else needsComma&&handleError(6,[],[]);(10!==_scanner.getToken()?(handleError(3,[],[2,5]),0):(parseString(!1),6===_scanner.getToken()?(onSeparator(":"),scanNext(),parseValue()||handleError(4,[],[2,5])):handleError(5,[],[2,5]),1))||handleError(4,[],[2,5]),needsComma=!0}return onObjectEnd(),2!==_scanner.getToken()?handleError(7,[2],[]):scanNext(),!0}();case 10:return parseString(!0);default:return function(){switch(_scanner.getToken()){case 11:var value=0;try{"number"!=typeof(value=JSON.parse(_scanner.getTokenValue()))&&(handleError(2),value=0)}catch(e){handleError(2)}onLiteralValue(value);break;case 7:onLiteralValue(null);break;case 8:onLiteralValue(!0);break;case 9:onLiteralValue(!1);break;default:return!1}return scanNext(),!0}()}}return scanNext(),17===_scanner.getToken()?!!options.allowEmptyContent||(handleError(4,[],[]),!1):parseValue()?(17!==_scanner.getToken()&&handleError(9,[],[]),!0):(handleError(4,[],[]),!1)}!function(ParseOptions){ParseOptions.DEFAULT={allowTrailingComma:!1}}(ParseOptions||(ParseOptions={}));var Position,Range,Location,LocationLink,Color,ColorInformation,ColorPresentation,FoldingRangeKind,FoldingRange,DiagnosticRelatedInformation,DiagnosticSeverity,DiagnosticTag,Diagnostic,Command,TextEdit,TextDocumentEdit,CreateFile,RenameFile,DeleteFile,WorkspaceEdit,main_createScanner=createScanner,main_parse=function(text,errors,options){void 0===errors&&(errors=[]),void 0===options&&(options=ParseOptions.DEFAULT);var currentProperty=null,currentParent=[],previousParents=[];function onValue(value){Array.isArray(currentParent)?currentParent.push(value):null!==currentProperty&&(currentParent[currentProperty]=value)}return visit(text,{onObjectBegin:function(){var object={};onValue(object),previousParents.push(currentParent),currentParent=object,currentProperty=null},onObjectProperty:function(name){currentProperty=name},onObjectEnd:function(){currentParent=previousParents.pop()},onArrayBegin:function(){var array=[];onValue(array),previousParents.push(currentParent),currentParent=array,currentProperty=null},onArrayEnd:function(){currentParent=previousParents.pop()},onLiteralValue:onValue,onError:function(error,offset,length){errors.push({error:error,offset:offset,length:length})}},options),currentParent[0]},main_findNodeAtOffset=function findNodeAtOffset(node,offset,includeRightBound){if(void 0===includeRightBound&&(includeRightBound=!1),function(node,offset,includeRightBound){return void 0===includeRightBound&&(includeRightBound=!1),offset>=node.offset&&offset<node.offset+node.length||includeRightBound&&offset===node.offset+node.length}(node,offset,includeRightBound)){var children=node.children;if(Array.isArray(children))for(var i=0;i<children.length&&children[i].offset<=offset;i++){var item=findNodeAtOffset(children[i],offset,includeRightBound);if(item)return item}return node}},main_getNodePath=function getNodePath(node){if(!node.parent||!node.parent.children)return[];var path=getNodePath(node.parent);if("property"===node.parent.type){var key=node.parent.children[0].value;path.push(key)}else if("array"===node.parent.type){var index=node.parent.children.indexOf(node);-1!==index&&path.push(index)}return path},main_getNodeValue=function getNodeValue(node){switch(node.type){case"array":return node.children.map(getNodeValue);case"object":for(var obj=Object.create(null),_i=0,_a=node.children;_i<_a.length;_i++){var prop=_a[_i],valueNode=prop.children[1];valueNode&&(obj[prop.children[0].value]=getNodeValue(valueNode))}return obj;case"null":case"string":case"number":case"boolean":return node.value;default:return}};function equals(one,other){if(one===other)return!0;if(null==one||null==other)return!1;if(typeof one!=typeof other)return!1;if("object"!=typeof one)return!1;if(Array.isArray(one)!==Array.isArray(other))return!1;var i,key;if(Array.isArray(one)){if(one.length!==other.length)return!1;for(i=0;i<one.length;i++)if(!equals(one[i],other[i]))return!1}else{var oneKeys=[];for(key in one)oneKeys.push(key);oneKeys.sort();var otherKeys=[];for(key in other)otherKeys.push(key);if(otherKeys.sort(),!equals(oneKeys,otherKeys))return!1;for(i=0;i<oneKeys.length;i++)if(!equals(one[oneKeys[i]],other[oneKeys[i]]))return!1}return!0}function isNumber(val){return"number"==typeof val}function isDefined(val){return void 0!==val}function isBoolean(val){return"boolean"==typeof val}!function(Position){Position.create=function(line,character){return{line:line,character:character}},Position.is=function(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.number(candidate.line)&&Is.number(candidate.character)}}(Position||(Position={})),function(Range){Range.create=function(one,two,three,four){if(Is.number(one)&&Is.number(two)&&Is.number(three)&&Is.number(four))return{start:Position.create(one,two),end:Position.create(three,four)};if(Position.is(one)&&Position.is(two))return{start:one,end:two};throw new Error("Range#create called with invalid arguments["+one+", "+two+", "+three+", "+four+"]")},Range.is=function(value){var candidate=value;return Is.objectLiteral(candidate)&&Position.is(candidate.start)&&Position.is(candidate.end)}}(Range||(Range={})),function(Location){Location.create=function(uri,range){return{uri:uri,range:range}},Location.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.string(candidate.uri)||Is.undefined(candidate.uri))}}(Location||(Location={})),function(LocationLink){LocationLink.create=function(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri:targetUri,targetRange:targetRange,targetSelectionRange:targetSelectionRange,originSelectionRange:originSelectionRange}},LocationLink.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.targetRange)&&Is.string(candidate.targetUri)&&(Range.is(candidate.targetSelectionRange)||Is.undefined(candidate.targetSelectionRange))&&(Range.is(candidate.originSelectionRange)||Is.undefined(candidate.originSelectionRange))}}(LocationLink||(LocationLink={})),function(Color){Color.create=function(red,green,blue,alpha){return{red:red,green:green,blue:blue,alpha:alpha}},Color.is=function(value){var candidate=value;return Is.number(candidate.red)&&Is.number(candidate.green)&&Is.number(candidate.blue)&&Is.number(candidate.alpha)}}(Color||(Color={})),function(ColorInformation){ColorInformation.create=function(range,color){return{range:range,color:color}},ColorInformation.is=function(value){var candidate=value;return Range.is(candidate.range)&&Color.is(candidate.color)}}(ColorInformation||(ColorInformation={})),function(ColorPresentation){ColorPresentation.create=function(label,textEdit,additionalTextEdits){return{label:label,textEdit:textEdit,additionalTextEdits:additionalTextEdits}},ColorPresentation.is=function(value){var candidate=value;return Is.string(candidate.label)&&(Is.undefined(candidate.textEdit)||TextEdit.is(candidate))&&(Is.undefined(candidate.additionalTextEdits)||Is.typedArray(candidate.additionalTextEdits,TextEdit.is))}}(ColorPresentation||(ColorPresentation={})),function(FoldingRangeKind){FoldingRangeKind.Comment="comment",FoldingRangeKind.Imports="imports",FoldingRangeKind.Region="region"}(FoldingRangeKind||(FoldingRangeKind={})),function(FoldingRange){FoldingRange.create=function(startLine,endLine,startCharacter,endCharacter,kind){var result={startLine:startLine,endLine:endLine};return Is.defined(startCharacter)&&(result.startCharacter=startCharacter),Is.defined(endCharacter)&&(result.endCharacter=endCharacter),Is.defined(kind)&&(result.kind=kind),result},FoldingRange.is=function(value){var candidate=value;return Is.number(candidate.startLine)&&Is.number(candidate.startLine)&&(Is.undefined(candidate.startCharacter)||Is.number(candidate.startCharacter))&&(Is.undefined(candidate.endCharacter)||Is.number(candidate.endCharacter))&&(Is.undefined(candidate.kind)||Is.string(candidate.kind))}}(FoldingRange||(FoldingRange={})),function(DiagnosticRelatedInformation){DiagnosticRelatedInformation.create=function(location,message){return{location:location,message:message}},DiagnosticRelatedInformation.is=function(value){var candidate=value;return Is.defined(candidate)&&Location.is(candidate.location)&&Is.string(candidate.message)}}(DiagnosticRelatedInformation||(DiagnosticRelatedInformation={})),function(DiagnosticSeverity){DiagnosticSeverity.Error=1,DiagnosticSeverity.Warning=2,DiagnosticSeverity.Information=3,DiagnosticSeverity.Hint=4}(DiagnosticSeverity||(DiagnosticSeverity={})),function(DiagnosticTag){DiagnosticTag.Unnecessary=1,DiagnosticTag.Deprecated=2}(DiagnosticTag||(DiagnosticTag={})),function(Diagnostic){Diagnostic.create=function(range,message,severity,code,source,relatedInformation){var result={range:range,message:message};return Is.defined(severity)&&(result.severity=severity),Is.defined(code)&&(result.code=code),Is.defined(source)&&(result.source=source),Is.defined(relatedInformation)&&(result.relatedInformation=relatedInformation),result},Diagnostic.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&Is.string(candidate.message)&&(Is.number(candidate.severity)||Is.undefined(candidate.severity))&&(Is.number(candidate.code)||Is.string(candidate.code)||Is.undefined(candidate.code))&&(Is.string(candidate.source)||Is.undefined(candidate.source))&&(Is.undefined(candidate.relatedInformation)||Is.typedArray(candidate.relatedInformation,DiagnosticRelatedInformation.is))}}(Diagnostic||(Diagnostic={})),function(Command){Command.create=function(title,command){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var result={title:title,command:command};return Is.defined(args)&&args.length>0&&(result.arguments=args),result},Command.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.title)&&Is.string(candidate.command)}}(Command||(Command={})),function(TextEdit){TextEdit.replace=function(range,newText){return{range:range,newText:newText}},TextEdit.insert=function(position,newText){return{range:{start:position,end:position},newText:newText}},TextEdit.del=function(range){return{range:range,newText:""}},TextEdit.is=function(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.newText)&&Range.is(candidate.range)}}(TextEdit||(TextEdit={})),function(TextDocumentEdit){TextDocumentEdit.create=function(textDocument,edits){return{textDocument:textDocument,edits:edits}},TextDocumentEdit.is=function(value){var candidate=value;return Is.defined(candidate)&&VersionedTextDocumentIdentifier.is(candidate.textDocument)&&Array.isArray(candidate.edits)}}(TextDocumentEdit||(TextDocumentEdit={})),function(CreateFile){CreateFile.create=function(uri,options){var result={kind:"create",uri:uri};return void 0===options||void 0===options.overwrite&&void 0===options.ignoreIfExists||(result.options=options),result},CreateFile.is=function(value){var candidate=value;return candidate&&"create"===candidate.kind&&Is.string(candidate.uri)&&(void 0===candidate.options||(void 0===candidate.options.overwrite||Is.boolean(candidate.options.overwrite))&&(void 0===candidate.options.ignoreIfExists||Is.boolean(candidate.options.ignoreIfExists)))}}(CreateFile||(CreateFile={})),function(RenameFile){RenameFile.create=function(oldUri,newUri,options){var result={kind:"rename",oldUri:oldUri,newUri:newUri};return void 0===options||void 0===options.overwrite&&void 0===options.ignoreIfExists||(result.options=options),result},RenameFile.is=function(value){var candidate=value;return candidate&&"rename"===candidate.kind&&Is.string(candidate.oldUri)&&Is.string(candidate.newUri)&&(void 0===candidate.options||(void 0===candidate.options.overwrite||Is.boolean(candidate.options.overwrite))&&(void 0===candidate.options.ignoreIfExists||Is.boolean(candidate.options.ignoreIfExists)))}}(RenameFile||(RenameFile={})),function(DeleteFile){DeleteFile.create=function(uri,options){var result={kind:"delete",uri:uri};return void 0===options||void 0===options.recursive&&void 0===options.ignoreIfNotExists||(result.options=options),result},DeleteFile.is=function(value){var candidate=value;return candidate&&"delete"===candidate.kind&&Is.string(candidate.uri)&&(void 0===candidate.options||(void 0===candidate.options.recursive||Is.boolean(candidate.options.recursive))&&(void 0===candidate.options.ignoreIfNotExists||Is.boolean(candidate.options.ignoreIfNotExists)))}}(DeleteFile||(DeleteFile={})),function(WorkspaceEdit){WorkspaceEdit.is=function(value){var candidate=value;return candidate&&(void 0!==candidate.changes||void 0!==candidate.documentChanges)&&(void 0===candidate.documentChanges||candidate.documentChanges.every((function(change){return Is.string(change.kind)?CreateFile.is(change)||RenameFile.is(change)||DeleteFile.is(change):TextDocumentEdit.is(change)})))}}(WorkspaceEdit||(WorkspaceEdit={}));var TextDocumentIdentifier,VersionedTextDocumentIdentifier,TextDocumentItem,MarkupKind,MarkupContent,CompletionItemKind,InsertTextFormat,CompletionItemTag,CompletionItem,CompletionList,MarkedString,Hover,ParameterInformation,SignatureInformation,DocumentHighlightKind,DocumentHighlight,SymbolKind,SymbolTag,SymbolInformation,DocumentSymbol,CodeActionKind,CodeActionContext,CodeAction,CodeLens,FormattingOptions,DocumentLink,SelectionRange,TextEditChangeImpl=function(){function TextEditChangeImpl(edits){this.edits=edits}return TextEditChangeImpl.prototype.insert=function(position,newText){this.edits.push(TextEdit.insert(position,newText))},TextEditChangeImpl.prototype.replace=function(range,newText){this.edits.push(TextEdit.replace(range,newText))},TextEditChangeImpl.prototype.delete=function(range){this.edits.push(TextEdit.del(range))},TextEditChangeImpl.prototype.add=function(edit){this.edits.push(edit)},TextEditChangeImpl.prototype.all=function(){return this.edits},TextEditChangeImpl.prototype.clear=function(){this.edits.splice(0,this.edits.length)},TextEditChangeImpl}();!function(){function WorkspaceChange(workspaceEdit){var _this=this;this._textEditChanges=Object.create(null),workspaceEdit&&(this._workspaceEdit=workspaceEdit,workspaceEdit.documentChanges?workspaceEdit.documentChanges.forEach((function(change){if(TextDocumentEdit.is(change)){var textEditChange=new TextEditChangeImpl(change.edits);_this._textEditChanges[change.textDocument.uri]=textEditChange}})):workspaceEdit.changes&&Object.keys(workspaceEdit.changes).forEach((function(key){var textEditChange=new TextEditChangeImpl(workspaceEdit.changes[key]);_this._textEditChanges[key]=textEditChange})))}Object.defineProperty(WorkspaceChange.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),WorkspaceChange.prototype.getTextEditChange=function(key){if(VersionedTextDocumentIdentifier.is(key)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var textDocument=key;if(!(result=this._textEditChanges[textDocument.uri])){var textDocumentEdit={textDocument:textDocument,edits:edits=[]};this._workspaceEdit.documentChanges.push(textDocumentEdit),result=new TextEditChangeImpl(edits),this._textEditChanges[textDocument.uri]=result}return result}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var result;if(!(result=this._textEditChanges[key])){var edits=[];this._workspaceEdit.changes[key]=edits,result=new TextEditChangeImpl(edits),this._textEditChanges[key]=result}return result},WorkspaceChange.prototype.createFile=function(uri,options){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(CreateFile.create(uri,options))},WorkspaceChange.prototype.renameFile=function(oldUri,newUri,options){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri,newUri,options))},WorkspaceChange.prototype.deleteFile=function(uri,options){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(DeleteFile.create(uri,options))},WorkspaceChange.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")}}();!function(TextDocumentIdentifier){TextDocumentIdentifier.create=function(uri){return{uri:uri}},TextDocumentIdentifier.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)}}(TextDocumentIdentifier||(TextDocumentIdentifier={})),function(VersionedTextDocumentIdentifier){VersionedTextDocumentIdentifier.create=function(uri,version){return{uri:uri,version:version}},VersionedTextDocumentIdentifier.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&(null===candidate.version||Is.number(candidate.version))}}(VersionedTextDocumentIdentifier||(VersionedTextDocumentIdentifier={})),function(TextDocumentItem){TextDocumentItem.create=function(uri,languageId,version,text){return{uri:uri,languageId:languageId,version:version,text:text}},TextDocumentItem.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.string(candidate.languageId)&&Is.number(candidate.version)&&Is.string(candidate.text)}}(TextDocumentItem||(TextDocumentItem={})),function(MarkupKind){MarkupKind.PlainText="plaintext",MarkupKind.Markdown="markdown"}(MarkupKind||(MarkupKind={})),function(MarkupKind){MarkupKind.is=function(value){var candidate=value;return candidate===MarkupKind.PlainText||candidate===MarkupKind.Markdown}}(MarkupKind||(MarkupKind={})),function(MarkupContent){MarkupContent.is=function(value){var candidate=value;return Is.objectLiteral(value)&&MarkupKind.is(candidate.kind)&&Is.string(candidate.value)}}(MarkupContent||(MarkupContent={})),function(CompletionItemKind){CompletionItemKind.Text=1,CompletionItemKind.Method=2,CompletionItemKind.Function=3,CompletionItemKind.Constructor=4,CompletionItemKind.Field=5,CompletionItemKind.Variable=6,CompletionItemKind.Class=7,CompletionItemKind.Interface=8,CompletionItemKind.Module=9,CompletionItemKind.Property=10,CompletionItemKind.Unit=11,CompletionItemKind.Value=12,CompletionItemKind.Enum=13,CompletionItemKind.Keyword=14,CompletionItemKind.Snippet=15,CompletionItemKind.Color=16,CompletionItemKind.File=17,CompletionItemKind.Reference=18,CompletionItemKind.Folder=19,CompletionItemKind.EnumMember=20,CompletionItemKind.Constant=21,CompletionItemKind.Struct=22,CompletionItemKind.Event=23,CompletionItemKind.Operator=24,CompletionItemKind.TypeParameter=25}(CompletionItemKind||(CompletionItemKind={})),function(InsertTextFormat){InsertTextFormat.PlainText=1,InsertTextFormat.Snippet=2}(InsertTextFormat||(InsertTextFormat={})),function(CompletionItemTag){CompletionItemTag.Deprecated=1}(CompletionItemTag||(CompletionItemTag={})),function(CompletionItem){CompletionItem.create=function(label){return{label:label}}}(CompletionItem||(CompletionItem={})),function(CompletionList){CompletionList.create=function(items,isIncomplete){return{items:items||[],isIncomplete:!!isIncomplete}}}(CompletionList||(CompletionList={})),function(MarkedString){MarkedString.fromPlainText=function(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},MarkedString.is=function(value){var candidate=value;return Is.string(candidate)||Is.objectLiteral(candidate)&&Is.string(candidate.language)&&Is.string(candidate.value)}}(MarkedString||(MarkedString={})),function(Hover){Hover.is=function(value){var candidate=value;return!!candidate&&Is.objectLiteral(candidate)&&(MarkupContent.is(candidate.contents)||MarkedString.is(candidate.contents)||Is.typedArray(candidate.contents,MarkedString.is))&&(void 0===value.range||Range.is(value.range))}}(Hover||(Hover={})),function(ParameterInformation){ParameterInformation.create=function(label,documentation){return documentation?{label:label,documentation:documentation}:{label:label}}}(ParameterInformation||(ParameterInformation={})),function(SignatureInformation){SignatureInformation.create=function(label,documentation){for(var parameters=[],_i=2;_i<arguments.length;_i++)parameters[_i-2]=arguments[_i];var result={label:label};return Is.defined(documentation)&&(result.documentation=documentation),Is.defined(parameters)?result.parameters=parameters:result.parameters=[],result}}(SignatureInformation||(SignatureInformation={})),function(DocumentHighlightKind){DocumentHighlightKind.Text=1,DocumentHighlightKind.Read=2,DocumentHighlightKind.Write=3}(DocumentHighlightKind||(DocumentHighlightKind={})),function(DocumentHighlight){DocumentHighlight.create=function(range,kind){var result={range:range};return Is.number(kind)&&(result.kind=kind),result}}(DocumentHighlight||(DocumentHighlight={})),function(SymbolKind){SymbolKind.File=1,SymbolKind.Module=2,SymbolKind.Namespace=3,SymbolKind.Package=4,SymbolKind.Class=5,SymbolKind.Method=6,SymbolKind.Property=7,SymbolKind.Field=8,SymbolKind.Constructor=9,SymbolKind.Enum=10,SymbolKind.Interface=11,SymbolKind.Function=12,SymbolKind.Variable=13,SymbolKind.Constant=14,SymbolKind.String=15,SymbolKind.Number=16,SymbolKind.Boolean=17,SymbolKind.Array=18,SymbolKind.Object=19,SymbolKind.Key=20,SymbolKind.Null=21,SymbolKind.EnumMember=22,SymbolKind.Struct=23,SymbolKind.Event=24,SymbolKind.Operator=25,SymbolKind.TypeParameter=26}(SymbolKind||(SymbolKind={})),function(SymbolTag){SymbolTag.Deprecated=1}(SymbolTag||(SymbolTag={})),function(SymbolInformation){SymbolInformation.create=function(name,kind,range,uri,containerName){var result={name:name,kind:kind,location:{uri:uri,range:range}};return containerName&&(result.containerName=containerName),result}}(SymbolInformation||(SymbolInformation={})),function(DocumentSymbol){DocumentSymbol.create=function(name,detail,kind,range,selectionRange,children){var result={name:name,detail:detail,kind:kind,range:range,selectionRange:selectionRange};return void 0!==children&&(result.children=children),result},DocumentSymbol.is=function(value){var candidate=value;return candidate&&Is.string(candidate.name)&&Is.number(candidate.kind)&&Range.is(candidate.range)&&Range.is(candidate.selectionRange)&&(void 0===candidate.detail||Is.string(candidate.detail))&&(void 0===candidate.deprecated||Is.boolean(candidate.deprecated))&&(void 0===candidate.children||Array.isArray(candidate.children))}}(DocumentSymbol||(DocumentSymbol={})),function(CodeActionKind){CodeActionKind.Empty="",CodeActionKind.QuickFix="quickfix",CodeActionKind.Refactor="refactor",CodeActionKind.RefactorExtract="refactor.extract",CodeActionKind.RefactorInline="refactor.inline",CodeActionKind.RefactorRewrite="refactor.rewrite",CodeActionKind.Source="source",CodeActionKind.SourceOrganizeImports="source.organizeImports",CodeActionKind.SourceFixAll="source.fixAll"}(CodeActionKind||(CodeActionKind={})),function(CodeActionContext){CodeActionContext.create=function(diagnostics,only){var result={diagnostics:diagnostics};return null!=only&&(result.only=only),result},CodeActionContext.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.typedArray(candidate.diagnostics,Diagnostic.is)&&(void 0===candidate.only||Is.typedArray(candidate.only,Is.string))}}(CodeActionContext||(CodeActionContext={})),function(CodeAction){CodeAction.create=function(title,commandOrEdit,kind){var result={title:title};return Command.is(commandOrEdit)?result.command=commandOrEdit:result.edit=commandOrEdit,void 0!==kind&&(result.kind=kind),result},CodeAction.is=function(value){var candidate=value;return candidate&&Is.string(candidate.title)&&(void 0===candidate.diagnostics||Is.typedArray(candidate.diagnostics,Diagnostic.is))&&(void 0===candidate.kind||Is.string(candidate.kind))&&(void 0!==candidate.edit||void 0!==candidate.command)&&(void 0===candidate.command||Command.is(candidate.command))&&(void 0===candidate.isPreferred||Is.boolean(candidate.isPreferred))&&(void 0===candidate.edit||WorkspaceEdit.is(candidate.edit))}}(CodeAction||(CodeAction={})),function(CodeLens){CodeLens.create=function(range,data){var result={range:range};return Is.defined(data)&&(result.data=data),result},CodeLens.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.command)||Command.is(candidate.command))}}(CodeLens||(CodeLens={})),function(FormattingOptions){FormattingOptions.create=function(tabSize,insertSpaces){return{tabSize:tabSize,insertSpaces:insertSpaces}},FormattingOptions.is=function(value){var candidate=value;return Is.defined(candidate)&&Is.number(candidate.tabSize)&&Is.boolean(candidate.insertSpaces)}}(FormattingOptions||(FormattingOptions={})),function(DocumentLink){DocumentLink.create=function(range,target,data){return{range:range,target:target,data:data}},DocumentLink.is=function(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.target)||Is.string(candidate.target))}}(DocumentLink||(DocumentLink={})),function(SelectionRange){SelectionRange.create=function(range,parent){return{range:range,parent:parent}},SelectionRange.is=function(value){var candidate=value;return void 0!==candidate&&Range.is(candidate.range)&&(void 0===candidate.parent||SelectionRange.is(candidate.parent))}}(SelectionRange||(SelectionRange={}));var TextDocument;!function(TextDocument){TextDocument.create=function(uri,languageId,version,content){return new FullTextDocument(uri,languageId,version,content)},TextDocument.is=function(value){var candidate=value;return!!(Is.defined(candidate)&&Is.string(candidate.uri)&&(Is.undefined(candidate.languageId)||Is.string(candidate.languageId))&&Is.number(candidate.lineCount)&&Is.func(candidate.getText)&&Is.func(candidate.positionAt)&&Is.func(candidate.offsetAt))},TextDocument.applyEdits=function(document,edits){for(var text=document.getText(),sortedEdits=function mergeSort(data,compare){if(data.length<=1)return data;var p=data.length/2|0,left=data.slice(0,p),right=data.slice(p);mergeSort(left,compare),mergeSort(right,compare);var leftIdx=0,rightIdx=0,i=0;for(;leftIdx<left.length&&rightIdx<right.length;){var ret=compare(left[leftIdx],right[rightIdx]);data[i++]=ret<=0?left[leftIdx++]:right[rightIdx++]}for(;leftIdx<left.length;)data[i++]=left[leftIdx++];for(;rightIdx<right.length;)data[i++]=right[rightIdx++];return data}(edits,(function(a,b){var diff=a.range.start.line-b.range.start.line;return 0===diff?a.range.start.character-b.range.start.character:diff})),lastModifiedOffset=text.length,i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i],startOffset=document.offsetAt(e.range.start),endOffset=document.offsetAt(e.range.end);if(!(endOffset<=lastModifiedOffset))throw new Error("Overlapping edit");text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length),lastModifiedOffset=startOffset}return text}}(TextDocument||(TextDocument={}));var Is,FullTextDocument=function(){function FullTextDocument(uri,languageId,version,content){this._uri=uri,this._languageId=languageId,this._version=version,this._content=content,this._lineOffsets=void 0}return Object.defineProperty(FullTextDocument.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),FullTextDocument.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start),end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content},FullTextDocument.prototype.update=function(event,version){this._content=event.text,this._version=version,this._lineOffsets=void 0},FullTextDocument.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var lineOffsets=[],text=this._content,isLineStart=!0,i=0;i<text.length;i++){isLineStart&&(lineOffsets.push(i),isLineStart=!1);var ch=text.charAt(i);isLineStart="\r"===ch||"\n"===ch,"\r"===ch&&i+1<text.length&&"\n"===text.charAt(i+1)&&i++}isLineStart&&text.length>0&&lineOffsets.push(text.length),this._lineOffsets=lineOffsets}return this._lineOffsets},FullTextDocument.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets(),low=0,high=lineOffsets.length;if(0===high)return Position.create(0,offset);for(;low<high;){var mid=Math.floor((low+high)/2);lineOffsets[mid]>offset?high=mid:low=mid+1}var line=low-1;return Position.create(line,offset-lineOffsets[line])},FullTextDocument.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length)return this._content.length;if(position.line<0)return 0;var lineOffset=lineOffsets[position.line],nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)},Object.defineProperty(FullTextDocument.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),FullTextDocument}();!function(Is){var toString=Object.prototype.toString;Is.defined=function(value){return void 0!==value},Is.undefined=function(value){return void 0===value},Is.boolean=function(value){return!0===value||!1===value},Is.string=function(value){return"[object String]"===toString.call(value)},Is.number=function(value){return"[object Number]"===toString.call(value)},Is.func=function(value){return"[object Function]"===toString.call(value)},Is.objectLiteral=function(value){return null!==value&&"object"==typeof value},Is.typedArray=function(value,check){return Array.isArray(value)&&value.every(check)}}(Is||(Is={}));var main_TextDocument,ErrorCode,jsonLanguageTypes_ClientCapabilities,main_FullTextDocument=function(){function FullTextDocument(uri,languageId,version,content){this._uri=uri,this._languageId=languageId,this._version=version,this._content=content,this._lineOffsets=void 0}return Object.defineProperty(FullTextDocument.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),FullTextDocument.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start),end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content},FullTextDocument.prototype.update=function(changes,version){for(var _i=0,changes_1=changes;_i<changes_1.length;_i++){var change=changes_1[_i];if(FullTextDocument.isIncremental(change)){var range=getWellformedRange(change.range),startOffset=this.offsetAt(range.start),endOffset=this.offsetAt(range.end);this._content=this._content.substring(0,startOffset)+change.text+this._content.substring(endOffset,this._content.length);var startLine=Math.max(range.start.line,0),endLine=Math.max(range.end.line,0),lineOffsets=this._lineOffsets,addedLineOffsets=computeLineOffsets(change.text,!1,startOffset);if(endLine-startLine===addedLineOffsets.length)for(var i=0,len=addedLineOffsets.length;i<len;i++)lineOffsets[i+startLine+1]=addedLineOffsets[i];else addedLineOffsets.length<1e4?lineOffsets.splice.apply(lineOffsets,[startLine+1,endLine-startLine].concat(addedLineOffsets)):this._lineOffsets=lineOffsets=lineOffsets.slice(0,startLine+1).concat(addedLineOffsets,lineOffsets.slice(endLine+1));var diff=change.text.length-(endOffset-startOffset);if(0!==diff)for(i=startLine+1+addedLineOffsets.length,len=lineOffsets.length;i<len;i++)lineOffsets[i]=lineOffsets[i]+diff}else{if(!FullTextDocument.isFull(change))throw new Error("Unknown change event received");this._content=change.text,this._lineOffsets=void 0}}this._version=version},FullTextDocument.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=computeLineOffsets(this._content,!0)),this._lineOffsets},FullTextDocument.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets(),low=0,high=lineOffsets.length;if(0===high)return{line:0,character:offset};for(;low<high;){var mid=Math.floor((low+high)/2);lineOffsets[mid]>offset?high=mid:low=mid+1}var line=low-1;return{line:line,character:offset-lineOffsets[line]}},FullTextDocument.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length)return this._content.length;if(position.line<0)return 0;var lineOffset=lineOffsets[position.line],nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)},Object.defineProperty(FullTextDocument.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),FullTextDocument.isIncremental=function(event){var candidate=event;return null!=candidate&&"string"==typeof candidate.text&&void 0!==candidate.range&&(void 0===candidate.rangeLength||"number"==typeof candidate.rangeLength)},FullTextDocument.isFull=function(event){var candidate=event;return null!=candidate&&"string"==typeof candidate.text&&void 0===candidate.range&&void 0===candidate.rangeLength},FullTextDocument}();function computeLineOffsets(text,isAtLineStart,textOffset){void 0===textOffset&&(textOffset=0);for(var result=isAtLineStart?[textOffset]:[],i=0;i<text.length;i++){var ch=text.charCodeAt(i);13!==ch&&10!==ch||(13===ch&&i+1<text.length&&10===text.charCodeAt(i+1)&&i++,result.push(textOffset+i+1))}return result}function getWellformedRange(range){var start=range.start,end=range.end;return start.line>end.line||start.line===end.line&&start.character>end.character?{start:end,end:start}:range}function getWellformedEdit(textEdit){var range=getWellformedRange(textEdit.range);return range!==textEdit.range?{newText:textEdit.newText,range:range}:textEdit}function vscode_nls_format(message,args){return 0===args.length?message:message.replace(/\{(\d+)\}/g,(function(match,rest){var index=rest[0];return void 0!==args[index]?args[index]:match}))}function localize(key,message){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];return vscode_nls_format(message,args)}function loadMessageBundle(file){return localize}!function(TextDocument){TextDocument.create=function(uri,languageId,version,content){return new main_FullTextDocument(uri,languageId,version,content)},TextDocument.update=function(document,changes,version){if(document instanceof main_FullTextDocument)return document.update(changes,version),document;throw new Error("TextDocument.update: document must be created by TextDocument.create")},TextDocument.applyEdits=function(document,edits){for(var text=document.getText(),sortedEdits=function mergeSort(data,compare){if(data.length<=1)return data;var p=data.length/2|0,left=data.slice(0,p),right=data.slice(p);mergeSort(left,compare),mergeSort(right,compare);var leftIdx=0,rightIdx=0,i=0;for(;leftIdx<left.length&&rightIdx<right.length;){var ret=compare(left[leftIdx],right[rightIdx]);data[i++]=ret<=0?left[leftIdx++]:right[rightIdx++]}for(;leftIdx<left.length;)data[i++]=left[leftIdx++];for(;rightIdx<right.length;)data[i++]=right[rightIdx++];return data}(edits.map(getWellformedEdit),(function(a,b){var diff=a.range.start.line-b.range.start.line;return 0===diff?a.range.start.character-b.range.start.character:diff})),lastModifiedOffset=text.length,i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i],startOffset=document.offsetAt(e.range.start),endOffset=document.offsetAt(e.range.end);if(!(endOffset<=lastModifiedOffset))throw new Error("Overlapping edit");text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length),lastModifiedOffset=startOffset}return text}}(main_TextDocument||(main_TextDocument={})),function(ErrorCode){ErrorCode[ErrorCode.Undefined=0]="Undefined",ErrorCode[ErrorCode.EnumValueMismatch=1]="EnumValueMismatch",ErrorCode[ErrorCode.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",ErrorCode[ErrorCode.UnexpectedEndOfString=258]="UnexpectedEndOfString",ErrorCode[ErrorCode.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",ErrorCode[ErrorCode.InvalidUnicode=260]="InvalidUnicode",ErrorCode[ErrorCode.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",ErrorCode[ErrorCode.InvalidCharacter=262]="InvalidCharacter",ErrorCode[ErrorCode.PropertyExpected=513]="PropertyExpected",ErrorCode[ErrorCode.CommaExpected=514]="CommaExpected",ErrorCode[ErrorCode.ColonExpected=515]="ColonExpected",ErrorCode[ErrorCode.ValueExpected=516]="ValueExpected",ErrorCode[ErrorCode.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",ErrorCode[ErrorCode.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",ErrorCode[ErrorCode.TrailingComma=519]="TrailingComma",ErrorCode[ErrorCode.DuplicateKey=520]="DuplicateKey",ErrorCode[ErrorCode.CommentNotPermitted=521]="CommentNotPermitted",ErrorCode[ErrorCode.SchemaResolveError=768]="SchemaResolveError"}(ErrorCode||(ErrorCode={})),(jsonLanguageTypes_ClientCapabilities||(jsonLanguageTypes_ClientCapabilities={})).LATEST={textDocument:{completion:{completionItem:{documentationFormat:[MarkupKind.Markdown,MarkupKind.PlainText],commitCharactersSupport:!0}}}};var extendStatics,EnumMatch,__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),jsonParser_localize=loadMessageBundle(),formats={"color-hex":{errorMessage:jsonParser_localize("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:jsonParser_localize("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:jsonParser_localize("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:jsonParser_localize("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:jsonParser_localize("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},ASTNodeImpl=function(){function ASTNodeImpl(parent,offset,length){this.offset=offset,this.length=length,this.parent=parent}return Object.defineProperty(ASTNodeImpl.prototype,"children",{get:function(){return[]},enumerable:!0,configurable:!0}),ASTNodeImpl.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},ASTNodeImpl}();(function(_super){function NullASTNodeImpl(parent,offset){var _this=_super.call(this,parent,offset)||this;return _this.type="null",_this.value=null,_this}__extends(NullASTNodeImpl,_super)})(ASTNodeImpl),function(_super){function BooleanASTNodeImpl(parent,boolValue,offset){var _this=_super.call(this,parent,offset)||this;return _this.type="boolean",_this.value=boolValue,_this}__extends(BooleanASTNodeImpl,_super)}(ASTNodeImpl),function(_super){function ArrayASTNodeImpl(parent,offset){var _this=_super.call(this,parent,offset)||this;return _this.type="array",_this.items=[],_this}__extends(ArrayASTNodeImpl,_super),Object.defineProperty(ArrayASTNodeImpl.prototype,"children",{get:function(){return this.items},enumerable:!0,configurable:!0})}(ASTNodeImpl),function(_super){function NumberASTNodeImpl(parent,offset){var _this=_super.call(this,parent,offset)||this;return _this.type="number",_this.isInteger=!0,_this.value=Number.NaN,_this}__extends(NumberASTNodeImpl,_super)}(ASTNodeImpl),function(_super){function StringASTNodeImpl(parent,offset,length){var _this=_super.call(this,parent,offset,length)||this;return _this.type="string",_this.value="",_this}__extends(StringASTNodeImpl,_super)}(ASTNodeImpl),function(_super){function PropertyASTNodeImpl(parent,offset){var _this=_super.call(this,parent,offset)||this;return _this.type="property",_this.colonOffset=-1,_this}__extends(PropertyASTNodeImpl,_super),Object.defineProperty(PropertyASTNodeImpl.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!0,configurable:!0})}(ASTNodeImpl),function(_super){function ObjectASTNodeImpl(parent,offset){var _this=_super.call(this,parent,offset)||this;return _this.type="object",_this.properties=[],_this}__extends(ObjectASTNodeImpl,_super),Object.defineProperty(ObjectASTNodeImpl.prototype,"children",{get:function(){return this.properties},enumerable:!0,configurable:!0})}(ASTNodeImpl);function asSchema(schema){return isBoolean(schema)?schema?{}:{not:{}}:schema}!function(EnumMatch){EnumMatch[EnumMatch.Key=0]="Key",EnumMatch[EnumMatch.Enum=1]="Enum"}(EnumMatch||(EnumMatch={}));var SchemaCollector=function(){function SchemaCollector(focusOffset,exclude){void 0===focusOffset&&(focusOffset=-1),void 0===exclude&&(exclude=null),this.focusOffset=focusOffset,this.exclude=exclude,this.schemas=[]}return SchemaCollector.prototype.add=function(schema){this.schemas.push(schema)},SchemaCollector.prototype.merge=function(other){var _a;(_a=this.schemas).push.apply(_a,other.schemas)},SchemaCollector.prototype.include=function(node){return(-1===this.focusOffset||jsonParser_contains(node,this.focusOffset))&&node!==this.exclude},SchemaCollector.prototype.newSub=function(){return new SchemaCollector(-1,this.exclude)},SchemaCollector}(),NoOpSchemaCollector=function(){function NoOpSchemaCollector(){}return Object.defineProperty(NoOpSchemaCollector.prototype,"schemas",{get:function(){return[]},enumerable:!0,configurable:!0}),NoOpSchemaCollector.prototype.add=function(schema){},NoOpSchemaCollector.prototype.merge=function(other){},NoOpSchemaCollector.prototype.include=function(node){return!0},NoOpSchemaCollector.prototype.newSub=function(){return this},NoOpSchemaCollector.instance=new NoOpSchemaCollector,NoOpSchemaCollector}(),jsonParser_ValidationResult=function(){function ValidationResult(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=null}return ValidationResult.prototype.hasProblems=function(){return!!this.problems.length},ValidationResult.prototype.mergeAll=function(validationResults){for(var _i=0,validationResults_1=validationResults;_i<validationResults_1.length;_i++){var validationResult=validationResults_1[_i];this.merge(validationResult)}},ValidationResult.prototype.merge=function(validationResult){this.problems=this.problems.concat(validationResult.problems)},ValidationResult.prototype.mergeEnumValues=function(validationResult){if(!this.enumValueMatch&&!validationResult.enumValueMatch&&this.enumValues&&validationResult.enumValues){this.enumValues=this.enumValues.concat(validationResult.enumValues);for(var _i=0,_a=this.problems;_i<_a.length;_i++){var error=_a[_i];error.code===ErrorCode.EnumValueMismatch&&(error.message=jsonParser_localize("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map((function(v){return JSON.stringify(v)})).join(", ")))}}},ValidationResult.prototype.mergePropertyMatch=function(propertyValidationResult){this.merge(propertyValidationResult),this.propertiesMatches++,(propertyValidationResult.enumValueMatch||!propertyValidationResult.hasProblems()&&propertyValidationResult.propertiesMatches)&&this.propertiesValueMatches++,propertyValidationResult.enumValueMatch&&propertyValidationResult.enumValues&&1===propertyValidationResult.enumValues.length&&this.primaryValueMatches++},ValidationResult.prototype.compare=function(other){var hasProblems=this.hasProblems();return hasProblems!==other.hasProblems()?hasProblems?-1:1:this.enumValueMatch!==other.enumValueMatch?other.enumValueMatch?-1:1:this.primaryValueMatches!==other.primaryValueMatches?this.primaryValueMatches-other.primaryValueMatches:this.propertiesValueMatches!==other.propertiesValueMatches?this.propertiesValueMatches-other.propertiesValueMatches:this.propertiesMatches-other.propertiesMatches},ValidationResult}();function jsonParser_getNodeValue(node){return main_getNodeValue(node)}function jsonParser_getNodePath(node){return main_getNodePath(node)}function jsonParser_contains(node,offset,includeRightBound){return void 0===includeRightBound&&(includeRightBound=!1),offset>=node.offset&&offset<node.offset+node.length||includeRightBound&&offset===node.offset+node.length}!function(){function JSONDocument(root,syntaxErrors,comments){void 0===syntaxErrors&&(syntaxErrors=[]),void 0===comments&&(comments=[]),this.root=root,this.syntaxErrors=syntaxErrors,this.comments=comments}JSONDocument.prototype.getNodeFromOffset=function(offset,includeRightBound){if(void 0===includeRightBound&&(includeRightBound=!1),this.root)return main_findNodeAtOffset(this.root,offset,includeRightBound)},JSONDocument.prototype.visit=function(visitor){if(this.root){var doVisit_1=function(node){var ctn=visitor(node),children=node.children;if(Array.isArray(children))for(var i=0;i<children.length&&ctn;i++)ctn=doVisit_1(children[i]);return ctn};doVisit_1(this.root)}},JSONDocument.prototype.validate=function(textDocument,schema){if(this.root&&schema){var validationResult=new jsonParser_ValidationResult;return validate(this.root,schema,validationResult,NoOpSchemaCollector.instance),validationResult.problems.map((function(p){var range=Range.create(textDocument.positionAt(p.location.offset),textDocument.positionAt(p.location.offset+p.location.length));return Diagnostic.create(range,p.message,p.severity,p.code)}))}return null},JSONDocument.prototype.getMatchingSchemas=function(schema,focusOffset,exclude){void 0===focusOffset&&(focusOffset=-1),void 0===exclude&&(exclude=null);var matchingSchemas=new SchemaCollector(focusOffset,exclude);return this.root&&schema&&validate(this.root,schema,new jsonParser_ValidationResult,matchingSchemas),matchingSchemas.schemas}}();function validate(node,schema,validationResult,matchingSchemas){if(node&&matchingSchemas.include(node)){switch(node.type){case"object":!function(node,schema,validationResult,matchingSchemas){for(var seenKeys=Object.create(null),unprocessedProperties=[],_i=0,_a=node.properties;_i<_a.length;_i++){var key=(propertyNode=_a[_i]).keyNode.value;seenKeys[key]=propertyNode.valueNode,unprocessedProperties.push(key)}if(Array.isArray(schema.required))for(var _b=0,_c=schema.required;_b<_c.length;_b++){var propertyName=_c[_b];if(!seenKeys[propertyName]){var keyNode=node.parent&&"property"===node.parent.type&&node.parent.keyNode,location=keyNode?{offset:keyNode.offset,length:keyNode.length}:{offset:node.offset,length:1};validationResult.problems.push({location:location,severity:DiagnosticSeverity.Warning,message:jsonParser_localize("MissingRequiredPropWarning",'Missing property "{0}".',propertyName)})}}var propertyProcessed=function(prop){for(var index=unprocessedProperties.indexOf(prop);index>=0;)unprocessedProperties.splice(index,1),index=unprocessedProperties.indexOf(prop)};if(schema.properties)for(var _d=0,_e=Object.keys(schema.properties);_d<_e.length;_d++){propertyName=_e[_d];propertyProcessed(propertyName);var propertySchema=schema.properties[propertyName];if(child=seenKeys[propertyName])if(isBoolean(propertySchema))if(propertySchema)validationResult.propertiesMatches++,validationResult.propertiesValueMatches++;else{var propertyNode=child.parent;validationResult.problems.push({location:{offset:propertyNode.keyNode.offset,length:propertyNode.keyNode.length},severity:DiagnosticSeverity.Warning,message:schema.errorMessage||jsonParser_localize("DisallowedExtraPropWarning","Property {0} is not allowed.",propertyName)})}else{var propertyValidationResult=new jsonParser_ValidationResult;validate(child,propertySchema,propertyValidationResult,matchingSchemas),validationResult.mergePropertyMatch(propertyValidationResult)}}if(schema.patternProperties)for(var _f=0,_g=Object.keys(schema.patternProperties);_f<_g.length;_f++)for(var propertyPattern=_g[_f],regex=new RegExp(propertyPattern),_h=0,_j=unprocessedProperties.slice(0);_h<_j.length;_h++){propertyName=_j[_h];if(regex.test(propertyName))if(propertyProcessed(propertyName),child=seenKeys[propertyName])if(isBoolean(propertySchema=schema.patternProperties[propertyPattern]))if(propertySchema)validationResult.propertiesMatches++,validationResult.propertiesValueMatches++;else{propertyNode=child.parent;validationResult.problems.push({location:{offset:propertyNode.keyNode.offset,length:propertyNode.keyNode.length},severity:DiagnosticSeverity.Warning,message:schema.errorMessage||jsonParser_localize("DisallowedExtraPropWarning","Property {0} is not allowed.",propertyName)})}else{propertyValidationResult=new jsonParser_ValidationResult;validate(child,propertySchema,propertyValidationResult,matchingSchemas),validationResult.mergePropertyMatch(propertyValidationResult)}}if("object"==typeof schema.additionalProperties)for(var _k=0,unprocessedProperties_1=unprocessedProperties;_k<unprocessedProperties_1.length;_k++){propertyName=unprocessedProperties_1[_k];if(child=seenKeys[propertyName]){propertyValidationResult=new jsonParser_ValidationResult;validate(child,schema.additionalProperties,propertyValidationResult,matchingSchemas),validationResult.mergePropertyMatch(propertyValidationResult)}}else if(!1===schema.additionalProperties&&unprocessedProperties.length>0)for(var _l=0,unprocessedProperties_2=unprocessedProperties;_l<unprocessedProperties_2.length;_l++){var child;propertyName=unprocessedProperties_2[_l];if(child=seenKeys[propertyName]){propertyNode=child.parent;validationResult.problems.push({location:{offset:propertyNode.keyNode.offset,length:propertyNode.keyNode.length},severity:DiagnosticSeverity.Warning,message:schema.errorMessage||jsonParser_localize("DisallowedExtraPropWarning","Property {0} is not allowed.",propertyName)})}}isNumber(schema.maxProperties)&&node.properties.length>schema.maxProperties&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("MaxPropWarning","Object has more properties than limit of {0}.",schema.maxProperties)});isNumber(schema.minProperties)&&node.properties.length<schema.minProperties&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("MinPropWarning","Object has fewer properties than the required number of {0}",schema.minProperties)});if(schema.dependencies)for(var _m=0,_o=Object.keys(schema.dependencies);_m<_o.length;_m++){key=_o[_m];if(seenKeys[key]){var propertyDep=schema.dependencies[key];if(Array.isArray(propertyDep))for(var _p=0,propertyDep_1=propertyDep;_p<propertyDep_1.length;_p++){var requiredProp=propertyDep_1[_p];seenKeys[requiredProp]?validationResult.propertiesValueMatches++:validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",requiredProp,key)})}else if(propertySchema=asSchema(propertyDep)){propertyValidationResult=new jsonParser_ValidationResult;validate(node,propertySchema,propertyValidationResult,matchingSchemas),validationResult.mergePropertyMatch(propertyValidationResult)}}}var propertyNames=asSchema(schema.propertyNames);if(propertyNames)for(var _q=0,_r=node.properties;_q<_r.length;_q++){var f=_r[_q];(key=f.keyNode)&&validate(key,propertyNames,validationResult,NoOpSchemaCollector.instance)}}(node,schema,validationResult,matchingSchemas);break;case"array":!function(node,schema,validationResult,matchingSchemas){if(Array.isArray(schema.items)){for(var subSchemas=schema.items,index=0;index<subSchemas.length;index++){var subSchema=asSchema(subSchemas[index]),itemValidationResult=new jsonParser_ValidationResult;(item=node.items[index])?(validate(item,subSchema,itemValidationResult,matchingSchemas),validationResult.mergePropertyMatch(itemValidationResult)):node.items.length>=subSchemas.length&&validationResult.propertiesValueMatches++}if(node.items.length>subSchemas.length)if("object"==typeof schema.additionalItems)for(var i=subSchemas.length;i<node.items.length;i++){itemValidationResult=new jsonParser_ValidationResult;validate(node.items[i],schema.additionalItems,itemValidationResult,matchingSchemas),validationResult.mergePropertyMatch(itemValidationResult)}else!1===schema.additionalItems&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",subSchemas.length)})}else{var itemSchema=asSchema(schema.items);if(itemSchema)for(var _i=0,_a=node.items;_i<_a.length;_i++){var item=_a[_i];itemValidationResult=new jsonParser_ValidationResult;validate(item,itemSchema,itemValidationResult,matchingSchemas),validationResult.mergePropertyMatch(itemValidationResult)}}var containsSchema=asSchema(schema.contains);if(containsSchema){node.items.some((function(item){var itemValidationResult=new jsonParser_ValidationResult;return validate(item,containsSchema,itemValidationResult,NoOpSchemaCollector.instance),!itemValidationResult.hasProblems()}))||validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:schema.errorMessage||jsonParser_localize("requiredItemMissingWarning","Array does not contain required item.")})}isNumber(schema.minItems)&&node.items.length<schema.minItems&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("minItemsWarning","Array has too few items. Expected {0} or more.",schema.minItems)});isNumber(schema.maxItems)&&node.items.length>schema.maxItems&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("maxItemsWarning","Array has too many items. Expected {0} or fewer.",schema.maxItems)});if(!0===schema.uniqueItems){var values_1=jsonParser_getNodeValue(node);values_1.some((function(value,index){return index!==values_1.lastIndexOf(value)}))&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("uniqueItemsWarning","Array has duplicate items.")})}}(node,schema,validationResult,matchingSchemas);break;case"string":!function(node,schema,validationResult,matchingSchemas){isNumber(schema.minLength)&&node.value.length<schema.minLength&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("minLengthWarning","String is shorter than the minimum length of {0}.",schema.minLength)});isNumber(schema.maxLength)&&node.value.length>schema.maxLength&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("maxLengthWarning","String is longer than the maximum length of {0}.",schema.maxLength)});if(val=schema.pattern,"string"==typeof val){new RegExp(schema.pattern).test(node.value)||validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:schema.patternErrorMessage||schema.errorMessage||jsonParser_localize("patternWarning",'String does not match the pattern of "{0}".',schema.pattern)})}var val;if(schema.format)switch(schema.format){case"uri":case"uri-reference":var errorMessage=void 0;if(node.value){var match=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(node.value);match?match[2]||"uri"!==schema.format||(errorMessage=jsonParser_localize("uriSchemeMissing","URI with a scheme is expected.")):errorMessage=jsonParser_localize("uriMissing","URI is expected.")}else errorMessage=jsonParser_localize("uriEmpty","URI expected.");errorMessage&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:schema.patternErrorMessage||schema.errorMessage||jsonParser_localize("uriFormatWarning","String is not a URI: {0}",errorMessage)});break;case"color-hex":case"date-time":case"date":case"time":case"email":var format=formats[schema.format];node.value&&format.pattern.exec(node.value)||validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:schema.patternErrorMessage||schema.errorMessage||format.errorMessage})}}(node,schema,validationResult);break;case"number":!function(node,schema,validationResult,matchingSchemas){var val=node.value;isNumber(schema.multipleOf)&&val%schema.multipleOf!=0&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("multipleOfWarning","Value is not divisible by {0}.",schema.multipleOf)});function getExclusiveLimit(limit,exclusive){return isNumber(exclusive)?exclusive:isBoolean(exclusive)&&exclusive?limit:void 0}function getLimit(limit,exclusive){if(!isBoolean(exclusive)||!exclusive)return limit}var exclusiveMinimum=getExclusiveLimit(schema.minimum,schema.exclusiveMinimum);isNumber(exclusiveMinimum)&&val<=exclusiveMinimum&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",exclusiveMinimum)});var exclusiveMaximum=getExclusiveLimit(schema.maximum,schema.exclusiveMaximum);isNumber(exclusiveMaximum)&&val>=exclusiveMaximum&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",exclusiveMaximum)});var minimum=getLimit(schema.minimum,schema.exclusiveMinimum);isNumber(minimum)&&val<minimum&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("minimumWarning","Value is below the minimum of {0}.",minimum)});var maximum=getLimit(schema.maximum,schema.exclusiveMaximum);isNumber(maximum)&&val>maximum&&validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("maximumWarning","Value is above the maximum of {0}.",maximum)})}(node,schema,validationResult);break;case"property":return validate(node.valueNode,schema,validationResult,matchingSchemas)}!function(){function matchesType(type){return node.type===type||"integer"===type&&"number"===node.type&&node.isInteger}Array.isArray(schema.type)?schema.type.some(matchesType)||validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:schema.errorMessage||jsonParser_localize("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",schema.type.join(", "))}):schema.type&&(matchesType(schema.type)||validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:schema.errorMessage||jsonParser_localize("typeMismatchWarning",'Incorrect type. Expected "{0}".',schema.type)}));if(Array.isArray(schema.allOf))for(var _i=0,_a=schema.allOf;_i<_a.length;_i++){var subSchemaRef=_a[_i];validate(node,asSchema(subSchemaRef),validationResult,matchingSchemas)}var notSchema=asSchema(schema.not);if(notSchema){var subValidationResult=new jsonParser_ValidationResult,subMatchingSchemas=matchingSchemas.newSub();validate(node,notSchema,subValidationResult,subMatchingSchemas),subValidationResult.hasProblems()||validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("notSchemaWarning","Matches a schema that is not allowed.")});for(var _b=0,_c=subMatchingSchemas.schemas;_b<_c.length;_b++){var ms=_c[_b];ms.inverted=!ms.inverted,matchingSchemas.add(ms)}}var testAlternatives=function(alternatives,maxOneMatch){for(var matches=[],bestMatch=null,_i=0,alternatives_1=alternatives;_i<alternatives_1.length;_i++){var subSchema=asSchema(alternatives_1[_i]),subValidationResult=new jsonParser_ValidationResult,subMatchingSchemas=matchingSchemas.newSub();if(validate(node,subSchema,subValidationResult,subMatchingSchemas),subValidationResult.hasProblems()||matches.push(subSchema),bestMatch)if(maxOneMatch||subValidationResult.hasProblems()||bestMatch.validationResult.hasProblems()){var compareResult=subValidationResult.compare(bestMatch.validationResult);compareResult>0?bestMatch={schema:subSchema,validationResult:subValidationResult,matchingSchemas:subMatchingSchemas}:0===compareResult&&(bestMatch.matchingSchemas.merge(subMatchingSchemas),bestMatch.validationResult.mergeEnumValues(subValidationResult))}else bestMatch.matchingSchemas.merge(subMatchingSchemas),bestMatch.validationResult.propertiesMatches+=subValidationResult.propertiesMatches,bestMatch.validationResult.propertiesValueMatches+=subValidationResult.propertiesValueMatches;else bestMatch={schema:subSchema,validationResult:subValidationResult,matchingSchemas:subMatchingSchemas}}return matches.length>1&&maxOneMatch&&validationResult.problems.push({location:{offset:node.offset,length:1},severity:DiagnosticSeverity.Warning,message:jsonParser_localize("oneOfWarning","Matches multiple schemas when only one must validate.")}),null!==bestMatch&&(validationResult.merge(bestMatch.validationResult),validationResult.propertiesMatches+=bestMatch.validationResult.propertiesMatches,validationResult.propertiesValueMatches+=bestMatch.validationResult.propertiesValueMatches,matchingSchemas.merge(bestMatch.matchingSchemas)),matches.length};Array.isArray(schema.anyOf)&&testAlternatives(schema.anyOf,!1);Array.isArray(schema.oneOf)&&testAlternatives(schema.oneOf,!0);var testBranch=function(schema){var subValidationResult=new jsonParser_ValidationResult,subMatchingSchemas=matchingSchemas.newSub();validate(node,asSchema(schema),subValidationResult,subMatchingSchemas),validationResult.merge(subValidationResult),validationResult.propertiesMatches+=subValidationResult.propertiesMatches,validationResult.propertiesValueMatches+=subValidationResult.propertiesValueMatches,matchingSchemas.merge(subMatchingSchemas)},ifSchema=asSchema(schema.if);ifSchema&&function(ifSchema,thenSchema,elseSchema){var subSchema=asSchema(ifSchema),subValidationResult=new jsonParser_ValidationResult,subMatchingSchemas=matchingSchemas.newSub();validate(node,subSchema,subValidationResult,subMatchingSchemas),matchingSchemas.merge(subMatchingSchemas),subValidationResult.hasProblems()?elseSchema&&testBranch(elseSchema):thenSchema&&testBranch(thenSchema)}(ifSchema,asSchema(schema.then),asSchema(schema.else));if(Array.isArray(schema.enum)){for(var val=jsonParser_getNodeValue(node),enumValueMatch=!1,_d=0,_e=schema.enum;_d<_e.length;_d++){var e=_e[_d];if(equals(val,e)){enumValueMatch=!0;break}}validationResult.enumValues=schema.enum,validationResult.enumValueMatch=enumValueMatch,enumValueMatch||validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,code:ErrorCode.EnumValueMismatch,message:schema.errorMessage||jsonParser_localize("enumWarning","Value is not accepted. Valid values: {0}.",schema.enum.map((function(v){return JSON.stringify(v)})).join(", "))})}if(isDefined(schema.const)){equals(val=jsonParser_getNodeValue(node),schema.const)?validationResult.enumValueMatch=!0:(validationResult.problems.push({location:{offset:node.offset,length:node.length},severity:DiagnosticSeverity.Warning,code:ErrorCode.EnumValueMismatch,message:schema.errorMessage||jsonParser_localize("constWarning","Value must be {0}.",JSON.stringify(schema.const))}),validationResult.enumValueMatch=!1),validationResult.enumValues=[schema.const]}schema.deprecationMessage&&node.parent&&validationResult.problems.push({location:{offset:node.parent.offset,length:node.parent.length},severity:DiagnosticSeverity.Warning,message:schema.deprecationMessage})}(),matchingSchemas.add({node:node,schema:schema})}}function endsWith(haystack,needle){var diff=haystack.length-needle.length;return diff>0?haystack.lastIndexOf(needle)===diff:0===diff&&haystack===needle}var jsonCompletion_localize=loadMessageBundle();(function(){function JSONCompletion(schemaService,contributions,promiseConstructor,clientCapabilities){void 0===contributions&&(contributions=[]),void 0===promiseConstructor&&(promiseConstructor=Promise),void 0===clientCapabilities&&(clientCapabilities={}),this.schemaService=schemaService,this.contributions=contributions,this.promiseConstructor=promiseConstructor,this.clientCapabilities=clientCapabilities,this.templateVarIdCounter=0}JSONCompletion.prototype.doResolve=function(item){for(var i=this.contributions.length-1;i>=0;i--)if(this.contributions[i].resolveCompletion){var resolver=this.contributions[i].resolveCompletion(item);if(resolver)return resolver}return this.promiseConstructor.resolve(item)},JSONCompletion.prototype.doComplete=function(document,position,doc){var _this=this,result={items:[],isIncomplete:!1},text=document.getText(),offset=document.offsetAt(position),node=doc.getNodeFromOffset(offset,!0);if(this.isInComment(document,node?node.offset:0,offset))return Promise.resolve(result);if(node&&offset===node.offset+node.length&&offset>0){var ch=text[offset-1];("object"===node.type&&"}"===ch||"array"===node.type&&"]"===ch)&&(node=node.parent)}var currentWord=this.getCurrentWord(document,offset),overwriteRange=null;if(!node||"string"!==node.type&&"number"!==node.type&&"boolean"!==node.type&&"null"!==node.type){var overwriteStart=offset-currentWord.length;overwriteStart>0&&'"'===text[overwriteStart-1]&&overwriteStart--,overwriteRange=Range.create(document.positionAt(overwriteStart),position)}else overwriteRange=Range.create(document.positionAt(node.offset),document.positionAt(node.offset+node.length));var proposed={},collector={add:function(suggestion){var label=suggestion.label,existing=proposed[label];if(existing)existing.documentation||(existing.documentation=suggestion.documentation);else{if((label=label.replace(/[\n]/g,"↵")).length>60){var shortendedLabel=label.substr(0,57).trim()+"...";proposed[shortendedLabel]||(label=shortendedLabel)}overwriteRange&&(suggestion.textEdit=TextEdit.replace(overwriteRange,suggestion.insertText)),suggestion.label=label,proposed[label]=suggestion,result.items.push(suggestion)}},setAsIncomplete:function(){result.isIncomplete=!0},error:function(message){console.error(message)},log:function(message){console.log(message)},getNumberOfProposals:function(){return result.items.length}};return this.schemaService.getSchemaForResource(document.uri,doc).then((function(schema){var collectionPromises=[],addValue=!0,currentKey="",currentProperty=null;if(node&&"string"===node.type){var parent=node.parent;parent&&"property"===parent.type&&parent.keyNode===node&&(addValue=!parent.valueNode,currentProperty=parent,currentKey=text.substr(node.offset+1,node.length-2),parent&&(node=parent.parent))}if(node&&"object"===node.type){if(node.offset===offset)return result;node.properties.forEach((function(p){currentProperty&&currentProperty===p||(proposed[p.keyNode.value]=CompletionItem.create("__"))}));var separatorAfter_1="";addValue&&(separatorAfter_1=_this.evaluateSeparatorAfter(document,document.offsetAt(overwriteRange.end))),schema?_this.getPropertyCompletions(schema,doc,node,addValue,separatorAfter_1,collector):_this.getSchemaLessPropertyCompletions(doc,node,currentKey,collector);var location_1=jsonParser_getNodePath(node);_this.contributions.forEach((function(contribution){var collectPromise=contribution.collectPropertyCompletions(document.uri,location_1,currentWord,addValue,""===separatorAfter_1,collector);collectPromise&&collectionPromises.push(collectPromise)})),!schema&&currentWord.length>0&&'"'!==text.charAt(offset-currentWord.length-1)&&(collector.add({kind:CompletionItemKind.Property,label:_this.getLabelForValue(currentWord),insertText:_this.getInsertTextForProperty(currentWord,null,!1,separatorAfter_1),insertTextFormat:InsertTextFormat.Snippet,documentation:""}),collector.setAsIncomplete())}var types={};return schema?_this.getValueCompletions(schema,doc,node,offset,document,collector,types):_this.getSchemaLessValueCompletions(doc,node,offset,document,collector),_this.contributions.length>0&&_this.getContributedValueCompletions(doc,node,offset,document,collector,collectionPromises),_this.promiseConstructor.all(collectionPromises).then((function(){if(0===collector.getNumberOfProposals()){var offsetForSeparator=offset;!node||"string"!==node.type&&"number"!==node.type&&"boolean"!==node.type&&"null"!==node.type||(offsetForSeparator=node.offset+node.length);var separatorAfter=_this.evaluateSeparatorAfter(document,offsetForSeparator);_this.addFillerValueCompletions(types,separatorAfter,collector)}return result}))}))},JSONCompletion.prototype.getPropertyCompletions=function(schema,doc,node,addValue,separatorAfter,collector){var _this=this;doc.getMatchingSchemas(schema.schema,node.offset).forEach((function(s){if(s.node===node&&!s.inverted){var schemaProperties_1=s.schema.properties;schemaProperties_1&&Object.keys(schemaProperties_1).forEach((function(key){var propertySchema=schemaProperties_1[key];if("object"==typeof propertySchema&&!propertySchema.deprecationMessage&&!propertySchema.doNotSuggest){var proposal={kind:CompletionItemKind.Property,label:key,insertText:_this.getInsertTextForProperty(key,propertySchema,addValue,separatorAfter),insertTextFormat:InsertTextFormat.Snippet,filterText:_this.getFilterTextForValue(key),documentation:_this.fromMarkup(propertySchema.markdownDescription)||propertySchema.description||""};endsWith(proposal.insertText,"$1"+separatorAfter)&&(proposal.command={title:"Suggest",command:"editor.action.triggerSuggest"}),collector.add(proposal)}}))}}))},JSONCompletion.prototype.getSchemaLessPropertyCompletions=function(doc,node,currentKey,collector){var _this=this,collectCompletionsForSimilarObject=function(obj){obj.properties.forEach((function(p){var key=p.keyNode.value;collector.add({kind:CompletionItemKind.Property,label:key,insertText:_this.getInsertTextForValue(key,""),insertTextFormat:InsertTextFormat.Snippet,filterText:_this.getFilterTextForValue(key),documentation:""})}))};if(node.parent)if("property"===node.parent.type){var parentKey_1=node.parent.keyNode.value;doc.visit((function(n){return"property"===n.type&&n!==node.parent&&n.keyNode.value===parentKey_1&&n.valueNode&&"object"===n.valueNode.type&&collectCompletionsForSimilarObject(n.valueNode),!0}))}else"array"===node.parent.type&&node.parent.items.forEach((function(n){"object"===n.type&&n!==node&&collectCompletionsForSimilarObject(n)}));else"object"===node.type&&collector.add({kind:CompletionItemKind.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",null,!0,""),insertTextFormat:InsertTextFormat.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})},JSONCompletion.prototype.getSchemaLessValueCompletions=function(doc,node,offset,document,collector){var _this=this,offsetForSeparator=offset;if(!node||"string"!==node.type&&"number"!==node.type&&"boolean"!==node.type&&"null"!==node.type||(offsetForSeparator=node.offset+node.length,node=node.parent),!node)return collector.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:InsertTextFormat.Snippet,documentation:""}),void collector.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:InsertTextFormat.Snippet,documentation:""});var separatorAfter=this.evaluateSeparatorAfter(document,offsetForSeparator),collectSuggestionsForValues=function(value){jsonParser_contains(value.parent,offset,!0)||collector.add({kind:_this.getSuggestionKind(value.type),label:_this.getLabelTextForMatchingNode(value,document),insertText:_this.getInsertTextForMatchingNode(value,document,separatorAfter),insertTextFormat:InsertTextFormat.Snippet,documentation:""}),"boolean"===value.type&&_this.addBooleanValueCompletion(!value.value,separatorAfter,collector)};if("property"===node.type&&offset>node.colonOffset){var valueNode=node.valueNode;if(valueNode&&(offset>valueNode.offset+valueNode.length||"object"===valueNode.type||"array"===valueNode.type))return;var parentKey_2=node.keyNode.value;doc.visit((function(n){return"property"===n.type&&n.keyNode.value===parentKey_2&&n.valueNode&&collectSuggestionsForValues(n.valueNode),!0})),"$schema"===parentKey_2&&node.parent&&!node.parent.parent&&this.addDollarSchemaCompletions(separatorAfter,collector)}if("array"===node.type)if(node.parent&&"property"===node.parent.type){var parentKey_3=node.parent.keyNode.value;doc.visit((function(n){return"property"===n.type&&n.keyNode.value===parentKey_3&&n.valueNode&&"array"===n.valueNode.type&&n.valueNode.items.forEach(collectSuggestionsForValues),!0}))}else node.items.forEach(collectSuggestionsForValues)},JSONCompletion.prototype.getValueCompletions=function(schema,doc,node,offset,document,collector,types){var _this=this,offsetForSeparator=offset,parentKey=null,valueNode=null;if(!node||"string"!==node.type&&"number"!==node.type&&"boolean"!==node.type&&"null"!==node.type||(offsetForSeparator=node.offset+node.length,valueNode=node,node=node.parent),node){if("property"===node.type&&offset>node.colonOffset){var valueNode_1=node.valueNode;if(valueNode_1&&offset>valueNode_1.offset+valueNode_1.length)return;parentKey=node.keyNode.value,node=node.parent}if(node&&(null!==parentKey||"array"===node.type)){var separatorAfter_2=this.evaluateSeparatorAfter(document,offsetForSeparator);doc.getMatchingSchemas(schema.schema,node.offset,valueNode).forEach((function(s){if(s.node===node&&!s.inverted&&s.schema){if("array"===node.type&&s.schema.items)if(Array.isArray(s.schema.items)){var index=_this.findItemAtOffset(node,document,offset);index<s.schema.items.length&&_this.addSchemaValueCompletions(s.schema.items[index],separatorAfter_2,collector,types)}else _this.addSchemaValueCompletions(s.schema.items,separatorAfter_2,collector,types);if(s.schema.properties){var propertySchema=s.schema.properties[parentKey];propertySchema&&_this.addSchemaValueCompletions(propertySchema,separatorAfter_2,collector,types)}}})),"$schema"!==parentKey||node.parent||this.addDollarSchemaCompletions(separatorAfter_2,collector),types.boolean&&(this.addBooleanValueCompletion(!0,separatorAfter_2,collector),this.addBooleanValueCompletion(!1,separatorAfter_2,collector)),types.null&&this.addNullValueCompletion(separatorAfter_2,collector)}}else this.addSchemaValueCompletions(schema.schema,"",collector,types)},JSONCompletion.prototype.getContributedValueCompletions=function(doc,node,offset,document,collector,collectionPromises){if(node){if("string"!==node.type&&"number"!==node.type&&"boolean"!==node.type&&"null"!==node.type||(node=node.parent),"property"===node.type&&offset>node.colonOffset){var parentKey_4=node.keyNode.value,valueNode=node.valueNode;if(!valueNode||offset<=valueNode.offset+valueNode.length){var location_2=jsonParser_getNodePath(node.parent);this.contributions.forEach((function(contribution){var collectPromise=contribution.collectValueCompletions(document.uri,location_2,parentKey_4,collector);collectPromise&&collectionPromises.push(collectPromise)}))}}}else this.contributions.forEach((function(contribution){var collectPromise=contribution.collectDefaultCompletions(document.uri,collector);collectPromise&&collectionPromises.push(collectPromise)}))},JSONCompletion.prototype.addSchemaValueCompletions=function(schema,separatorAfter,collector,types){var _this=this;"object"==typeof schema&&(this.addEnumValueCompletions(schema,separatorAfter,collector),this.addDefaultValueCompletions(schema,separatorAfter,collector),this.collectTypes(schema,types),Array.isArray(schema.allOf)&&schema.allOf.forEach((function(s){return _this.addSchemaValueCompletions(s,separatorAfter,collector,types)})),Array.isArray(schema.anyOf)&&schema.anyOf.forEach((function(s){return _this.addSchemaValueCompletions(s,separatorAfter,collector,types)})),Array.isArray(schema.oneOf)&&schema.oneOf.forEach((function(s){return _this.addSchemaValueCompletions(s,separatorAfter,collector,types)})))},JSONCompletion.prototype.addDefaultValueCompletions=function(schema,separatorAfter,collector,arrayDepth){var _this=this;void 0===arrayDepth&&(arrayDepth=0);var hasProposals=!1;if(isDefined(schema.default)){for(var type=schema.type,value=schema.default,i=arrayDepth;i>0;i--)value=[value],type="array";collector.add({kind:this.getSuggestionKind(type),label:this.getLabelForValue(value),insertText:this.getInsertTextForValue(value,separatorAfter),insertTextFormat:InsertTextFormat.Snippet,detail:jsonCompletion_localize("json.suggest.default","Default value")}),hasProposals=!0}Array.isArray(schema.examples)&&schema.examples.forEach((function(example){for(var type=schema.type,value=example,i=arrayDepth;i>0;i--)value=[value],type="array";collector.add({kind:_this.getSuggestionKind(type),label:_this.getLabelForValue(value),insertText:_this.getInsertTextForValue(value,separatorAfter),insertTextFormat:InsertTextFormat.Snippet}),hasProposals=!0})),Array.isArray(schema.defaultSnippets)&&schema.defaultSnippets.forEach((function(s){var insertText,filterText,type=schema.type,value=s.body,label=s.label;if(isDefined(value)){schema.type;for(var i=arrayDepth;i>0;i--)value=[value],"array";insertText=_this.getInsertTextForSnippetValue(value,separatorAfter),filterText=_this.getFilterTextForSnippetValue(value),label=label||_this.getLabelForSnippetValue(value)}else if("string"==typeof s.bodyText){var prefix="",suffix="",indent="";for(i=arrayDepth;i>0;i--)prefix=prefix+indent+"[\n",suffix=suffix+"\n"+indent+"]",indent+="\t",type="array";insertText=prefix+indent+s.bodyText.split("\n").join("\n"+indent)+suffix+separatorAfter,label=label||insertText,filterText=insertText.replace(/[\n]/g,"")}collector.add({kind:_this.getSuggestionKind(type),label:label,documentation:_this.fromMarkup(s.markdownDescription)||s.description,insertText:insertText,insertTextFormat:InsertTextFormat.Snippet,filterText:filterText}),hasProposals=!0})),hasProposals||"object"!=typeof schema.items||Array.isArray(schema.items)||this.addDefaultValueCompletions(schema.items,separatorAfter,collector,arrayDepth+1)},JSONCompletion.prototype.addEnumValueCompletions=function(schema,separatorAfter,collector){if(isDefined(schema.const)&&collector.add({kind:this.getSuggestionKind(schema.type),label:this.getLabelForValue(schema.const),insertText:this.getInsertTextForValue(schema.const,separatorAfter),insertTextFormat:InsertTextFormat.Snippet,documentation:this.fromMarkup(schema.markdownDescription)||schema.description}),Array.isArray(schema.enum))for(var i=0,length=schema.enum.length;i<length;i++){var enm=schema.enum[i],documentation=this.fromMarkup(schema.markdownDescription)||schema.description;schema.markdownEnumDescriptions&&i<schema.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?documentation=this.fromMarkup(schema.markdownEnumDescriptions[i]):schema.enumDescriptions&&i<schema.enumDescriptions.length&&(documentation=schema.enumDescriptions[i]),collector.add({kind:this.getSuggestionKind(schema.type),label:this.getLabelForValue(enm),insertText:this.getInsertTextForValue(enm,separatorAfter),insertTextFormat:InsertTextFormat.Snippet,documentation:documentation})}},JSONCompletion.prototype.collectTypes=function(schema,types){if(!Array.isArray(schema.enum)&&!isDefined(schema.const)){var type=schema.type;Array.isArray(type)?type.forEach((function(t){return types[t]=!0})):types[type]=!0}},JSONCompletion.prototype.addFillerValueCompletions=function(types,separatorAfter,collector){types.object&&collector.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},separatorAfter),insertTextFormat:InsertTextFormat.Snippet,detail:jsonCompletion_localize("defaults.object","New object"),documentation:""}),types.array&&collector.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],separatorAfter),insertTextFormat:InsertTextFormat.Snippet,detail:jsonCompletion_localize("defaults.array","New array"),documentation:""})},JSONCompletion.prototype.addBooleanValueCompletion=function(value,separatorAfter,collector){collector.add({kind:this.getSuggestionKind("boolean"),label:value?"true":"false",insertText:this.getInsertTextForValue(value,separatorAfter),insertTextFormat:InsertTextFormat.Snippet,documentation:""})},JSONCompletion.prototype.addNullValueCompletion=function(separatorAfter,collector){collector.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+separatorAfter,insertTextFormat:InsertTextFormat.Snippet,documentation:""})},JSONCompletion.prototype.addDollarSchemaCompletions=function(separatorAfter,collector){var _this=this;this.schemaService.getRegisteredSchemaIds((function(schema){return"http"===schema||"https"===schema})).forEach((function(schemaId){return collector.add({kind:CompletionItemKind.Module,label:_this.getLabelForValue(schemaId),filterText:_this.getFilterTextForValue(schemaId),insertText:_this.getInsertTextForValue(schemaId,separatorAfter),insertTextFormat:InsertTextFormat.Snippet,documentation:""})}))},JSONCompletion.prototype.getLabelForValue=function(value){return JSON.stringify(value)},JSONCompletion.prototype.getFilterTextForValue=function(value){return JSON.stringify(value)},JSONCompletion.prototype.getFilterTextForSnippetValue=function(value){return JSON.stringify(value).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},JSONCompletion.prototype.getLabelForSnippetValue=function(value){return JSON.stringify(value).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},JSONCompletion.prototype.getInsertTextForPlainText=function(text){return text.replace(/[\\\$\}]/g,"\\$&")},JSONCompletion.prototype.getInsertTextForValue=function(value,separatorAfter){var text=JSON.stringify(value,null,"\t");return"{}"===text?"{$1}"+separatorAfter:"[]"===text?"[$1]"+separatorAfter:this.getInsertTextForPlainText(text+separatorAfter)},JSONCompletion.prototype.getInsertTextForSnippetValue=function(value,separatorAfter){return function stringifyObject(obj,indent,stringifyLiteral){if(null!==obj&&"object"==typeof obj){var newIndent=indent+"\t";if(Array.isArray(obj)){if(0===obj.length)return"[]";for(var result="[\n",i=0;i<obj.length;i++)result+=newIndent+stringifyObject(obj[i],newIndent,stringifyLiteral),i<obj.length-1&&(result+=","),result+="\n";return result+=indent+"]"}var keys=Object.keys(obj);if(0===keys.length)return"{}";for(result="{\n",i=0;i<keys.length;i++){var key=keys[i];result+=newIndent+JSON.stringify(key)+": "+stringifyObject(obj[key],newIndent,stringifyLiteral),i<keys.length-1&&(result+=","),result+="\n"}return result+=indent+"}"}return stringifyLiteral(obj)}(value,"",(function(value){return"string"==typeof value&&"^"===value[0]?value.substr(1):JSON.stringify(value)}))+separatorAfter},JSONCompletion.prototype.getInsertTextForGuessedValue=function(value,separatorAfter){switch(typeof value){case"object":return null===value?"${1:null}"+separatorAfter:this.getInsertTextForValue(value,separatorAfter);case"string":var snippetValue=JSON.stringify(value);return snippetValue=snippetValue.substr(1,snippetValue.length-2),'"${1:'+(snippetValue=this.getInsertTextForPlainText(snippetValue))+'}"'+separatorAfter;case"number":case"boolean":return"${1:"+JSON.stringify(value)+"}"+separatorAfter}return this.getInsertTextForValue(value,separatorAfter)},JSONCompletion.prototype.getSuggestionKind=function(type){if(Array.isArray(type)){var array=type;type=array.length>0?array[0]:null}if(!type)return CompletionItemKind.Value;switch(type){case"string":return CompletionItemKind.Value;case"object":return CompletionItemKind.Module;case"property":return CompletionItemKind.Property;default:return CompletionItemKind.Value}},JSONCompletion.prototype.getLabelTextForMatchingNode=function(node,document){switch(node.type){case"array":return"[]";case"object":return"{}";default:return document.getText().substr(node.offset,node.length)}},JSONCompletion.prototype.getInsertTextForMatchingNode=function(node,document,separatorAfter){switch(node.type){case"array":return this.getInsertTextForValue([],separatorAfter);case"object":return this.getInsertTextForValue({},separatorAfter);default:var content=document.getText().substr(node.offset,node.length)+separatorAfter;return this.getInsertTextForPlainText(content)}},JSONCompletion.prototype.getInsertTextForProperty=function(key,propertySchema,addValue,separatorAfter){var propertyText=this.getInsertTextForValue(key,"");if(!addValue)return propertyText;var value,resultText=propertyText+": ",nValueProposals=0;if(propertySchema){if(Array.isArray(propertySchema.defaultSnippets)){if(1===propertySchema.defaultSnippets.length){var body=propertySchema.defaultSnippets[0].body;isDefined(body)&&(value=this.getInsertTextForSnippetValue(body,""))}nValueProposals+=propertySchema.defaultSnippets.length}if(propertySchema.enum&&(value||1!==propertySchema.enum.length||(value=this.getInsertTextForGuessedValue(propertySchema.enum[0],"")),nValueProposals+=propertySchema.enum.length),isDefined(propertySchema.default)&&(value||(value=this.getInsertTextForGuessedValue(propertySchema.default,"")),nValueProposals++),Array.isArray(propertySchema.examples)&&propertySchema.examples.length&&(value||(value=this.getInsertTextForGuessedValue(propertySchema.examples[0],"")),nValueProposals+=propertySchema.examples.length),0===nValueProposals){var type=Array.isArray(propertySchema.type)?propertySchema.type[0]:propertySchema.type;switch(type||(propertySchema.properties?type="object":propertySchema.items&&(type="array")),type){case"boolean":value="$1";break;case"string":value='"$1"';break;case"object":value="{$1}";break;case"array":value="[$1]";break;case"number":case"integer":value="${1:0}";break;case"null":value="${1:null}";break;default:return propertyText}}}return(!value||nValueProposals>1)&&(value="$1"),resultText+value+separatorAfter},JSONCompletion.prototype.getCurrentWord=function(document,offset){for(var i=offset-1,text=document.getText();i>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(text.charAt(i));)i--;return text.substring(i+1,offset)},JSONCompletion.prototype.evaluateSeparatorAfter=function(document,offset){var scanner=main_createScanner(document.getText(),!0);switch(scanner.setPosition(offset),scanner.scan()){case 5:case 2:case 4:case 17:return"";default:return","}},JSONCompletion.prototype.findItemAtOffset=function(node,document,offset){for(var scanner=main_createScanner(document.getText(),!0),children=node.items,i=children.length-1;i>=0;i--){var child=children[i];if(offset>child.offset+child.length)return scanner.setPosition(child.offset+child.length),5===scanner.scan()&&offset>=scanner.getTokenOffset()+scanner.getTokenLength()?i+1:i;if(offset>=child.offset)return i}return 0},JSONCompletion.prototype.isInComment=function(document,start,offset){var scanner=main_createScanner(document.getText(),!1);scanner.setPosition(start);for(var token=scanner.scan();17!==token&&scanner.getTokenOffset()+scanner.getTokenLength()<offset;)token=scanner.scan();return(12===token||13===token)&&scanner.getTokenOffset()<=offset},JSONCompletion.prototype.fromMarkup=function(markupString){if(markupString&&this.doesSupportMarkdown())return{kind:MarkupKind.Markdown,value:markupString}},JSONCompletion.prototype.doesSupportMarkdown=function(){if(!isDefined(this.supportsMarkdown)){var completion=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=completion&&completion.completionItem&&Array.isArray(completion.completionItem.documentationFormat)&&-1!==completion.completionItem.documentationFormat.indexOf(MarkupKind.Markdown)}return this.supportsMarkdown},JSONCompletion.prototype.doesSupportsCommitCharacters=function(){if(!isDefined(this.supportsCommitCharacters)){var completion=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsCommitCharacters=completion&&completion.completionItem&&!!completion.completionItem.commitCharactersSupport}return this.supportsCommitCharacters}})(),function(){function JSONHover(schemaService,contributions,promiseConstructor){void 0===contributions&&(contributions=[]),this.schemaService=schemaService,this.contributions=contributions,this.promise=promiseConstructor||Promise}JSONHover.prototype.doHover=function(document,position,doc){var offset=document.offsetAt(position),node=doc.getNodeFromOffset(offset);if(!node||("object"===node.type||"array"===node.type)&&offset>node.offset+1&&offset<node.offset+node.length-1)return this.promise.resolve(null);var hoverRangeNode=node;if("string"===node.type){var parent=node.parent;if(parent&&"property"===parent.type&&parent.keyNode===node&&!(node=parent.valueNode))return this.promise.resolve(null)}for(var hoverRange=Range.create(document.positionAt(hoverRangeNode.offset),document.positionAt(hoverRangeNode.offset+hoverRangeNode.length)),createHover=function(contents){return{contents:contents,range:hoverRange}},location=jsonParser_getNodePath(node),i=this.contributions.length-1;i>=0;i--){var promise=this.contributions[i].getInfoContribution(document.uri,location);if(promise)return promise.then((function(htmlContent){return createHover(htmlContent)}))}return this.schemaService.getSchemaForResource(document.uri,doc).then((function(schema){if(schema){var matchingSchemas=doc.getMatchingSchemas(schema.schema,node.offset),title_1=null,markdownDescription_1=null,markdownEnumValueDescription_1=null,enumValue_1=null;matchingSchemas.every((function(s){if(s.node===node&&!s.inverted&&s.schema&&(title_1=title_1||s.schema.title,markdownDescription_1=markdownDescription_1||s.schema.markdownDescription||toMarkdown(s.schema.description),s.schema.enum)){var idx=s.schema.enum.indexOf(jsonParser_getNodeValue(node));s.schema.markdownEnumDescriptions?markdownEnumValueDescription_1=s.schema.markdownEnumDescriptions[idx]:s.schema.enumDescriptions&&(markdownEnumValueDescription_1=toMarkdown(s.schema.enumDescriptions[idx])),markdownEnumValueDescription_1&&"string"!=typeof(enumValue_1=s.schema.enum[idx])&&(enumValue_1=JSON.stringify(enumValue_1))}return!0}));var result="";return title_1&&(result=toMarkdown(title_1)),markdownDescription_1&&(result.length>0&&(result+="\n\n"),result+=markdownDescription_1),markdownEnumValueDescription_1&&(result.length>0&&(result+="\n\n"),result+="`"+function(content){if(-1!==content.indexOf("`"))return"`` "+content+" ``";return content}(enumValue_1)+"`: "+markdownEnumValueDescription_1),createHover([result])}return null}))}}();function toMarkdown(plain){if(plain)return plain.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}var vscode_uri=__webpack_require__(2542),jsonSchemaService_localize=loadMessageBundle(),jsonSchemaService_FilePatternAssociation=function(){function FilePatternAssociation(pattern){try{this.patternRegExp=new RegExp(function(pattern){return pattern.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}(pattern)+"$")}catch(e){this.patternRegExp=null}this.schemas=[]}return FilePatternAssociation.prototype.addSchema=function(id){this.schemas.push(id)},FilePatternAssociation.prototype.matchesPattern=function(fileName){return this.patternRegExp&&this.patternRegExp.test(fileName)},FilePatternAssociation.prototype.getSchemas=function(){return this.schemas},FilePatternAssociation}(),SchemaHandle=function(){function SchemaHandle(service,url,unresolvedSchemaContent){this.service=service,this.url=url,this.dependencies={},unresolvedSchemaContent&&(this.unresolvedSchema=this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent)))}return SchemaHandle.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},SchemaHandle.prototype.getResolvedSchema=function(){var _this=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then((function(unresolved){return _this.service.resolveSchemaContent(unresolved,_this.url,_this.dependencies)}))),this.resolvedSchema},SchemaHandle.prototype.clearSchema=function(){this.resolvedSchema=null,this.unresolvedSchema=null,this.dependencies={}},SchemaHandle}(),UnresolvedSchema=function(schema,errors){void 0===errors&&(errors=[]),this.schema=schema,this.errors=errors},jsonSchemaService_ResolvedSchema=function(){function ResolvedSchema(schema,errors){void 0===errors&&(errors=[]),this.schema=schema,this.errors=errors}return ResolvedSchema.prototype.getSection=function(path){return asSchema(this.getSectionRecursive(path,this.schema))},ResolvedSchema.prototype.getSectionRecursive=function(path,schema){if(!schema||"boolean"==typeof schema||0===path.length)return schema;var next=path.shift();if(schema.properties&&(schema.properties[next],1))return this.getSectionRecursive(path,schema.properties[next]);if(schema.patternProperties)for(var _i=0,_a=Object.keys(schema.patternProperties);_i<_a.length;_i++){var pattern=_a[_i];if(new RegExp(pattern).test(next))return this.getSectionRecursive(path,schema.patternProperties[pattern])}else{if("object"==typeof schema.additionalProperties)return this.getSectionRecursive(path,schema.additionalProperties);if(next.match("[0-9]+"))if(Array.isArray(schema.items)){var index=parseInt(next,10);if(!isNaN(index)&&schema.items[index])return this.getSectionRecursive(path,schema.items[index])}else if(schema.items)return this.getSectionRecursive(path,schema.items)}return null},ResolvedSchema}();!function(){function JSONSchemaService(requestService,contextService,promiseConstructor){this.contextService=contextService,this.requestService=requestService,this.promiseConstructor=promiseConstructor||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations={},this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={}}JSONSchemaService.prototype.getRegisteredSchemaIds=function(filter){return Object.keys(this.registeredSchemasIds).filter((function(id){var scheme=vscode_uri.a.parse(id).scheme;return"schemaservice"!==scheme&&(!filter||filter(scheme))}))},Object.defineProperty(JSONSchemaService.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!0,configurable:!0}),JSONSchemaService.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},JSONSchemaService.prototype.onResourceChange=function(uri){for(var _this=this,hasChanges=!1,toWalk=[uri=this.normalizeId(uri)],all=Object.keys(this.schemasById).map((function(key){return _this.schemasById[key]}));toWalk.length;)for(var curr=toWalk.pop(),i=0;i<all.length;i++){var handle=all[i];handle&&(handle.url===curr||handle.dependencies[curr])&&(handle.url!==curr&&toWalk.push(handle.url),handle.clearSchema(),all[i]=void 0,hasChanges=!0)}return hasChanges},JSONSchemaService.prototype.normalizeId=function(id){try{return vscode_uri.a.parse(id).toString()}catch(e){return id}},JSONSchemaService.prototype.setSchemaContributions=function(schemaContributions){if(schemaContributions.schemas){var schemas=schemaContributions.schemas;for(var id in schemas){var normalizedId=this.normalizeId(id);this.contributionSchemas[normalizedId]=this.addSchemaHandle(normalizedId,schemas[id])}}if(schemaContributions.schemaAssociations){var schemaAssociations=schemaContributions.schemaAssociations;for(var pattern in schemaAssociations){var associations=schemaAssociations[pattern];this.contributionAssociations[pattern]=associations;for(var fpa=this.getOrAddFilePatternAssociation(pattern),_i=0,associations_1=associations;_i<associations_1.length;_i++){var schemaId=associations_1[_i];id=this.normalizeId(schemaId);fpa.addSchema(id)}}}},JSONSchemaService.prototype.addSchemaHandle=function(id,unresolvedSchemaContent){var schemaHandle=new SchemaHandle(this,id,unresolvedSchemaContent);return this.schemasById[id]=schemaHandle,schemaHandle},JSONSchemaService.prototype.getOrAddSchemaHandle=function(id,unresolvedSchemaContent){return this.schemasById[id]||this.addSchemaHandle(id,unresolvedSchemaContent)},JSONSchemaService.prototype.getOrAddFilePatternAssociation=function(pattern){var fpa=this.filePatternAssociationById[pattern];return fpa||(fpa=new jsonSchemaService_FilePatternAssociation(pattern),this.filePatternAssociationById[pattern]=fpa,this.filePatternAssociations.push(fpa)),fpa},JSONSchemaService.prototype.registerExternalSchema=function(uri,filePatterns,unresolvedSchemaContent){void 0===filePatterns&&(filePatterns=null);var id=this.normalizeId(uri);if(this.registeredSchemasIds[id]=!0,filePatterns)for(var _i=0,filePatterns_1=filePatterns;_i<filePatterns_1.length;_i++){var pattern=filePatterns_1[_i];this.getOrAddFilePatternAssociation(pattern).addSchema(id)}return unresolvedSchemaContent?this.addSchemaHandle(id,unresolvedSchemaContent):this.getOrAddSchemaHandle(id)},JSONSchemaService.prototype.clearExternalSchemas=function(){for(var id in this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={},this.contributionSchemas)this.schemasById[id]=this.contributionSchemas[id],this.registeredSchemasIds[id]=!0;for(var pattern in this.contributionAssociations)for(var fpa=this.getOrAddFilePatternAssociation(pattern),_i=0,_a=this.contributionAssociations[pattern];_i<_a.length;_i++){var schemaId=_a[_i];id=this.normalizeId(schemaId);fpa.addSchema(id)}},JSONSchemaService.prototype.getResolvedSchema=function(schemaId){var id=this.normalizeId(schemaId),schemaHandle=this.schemasById[id];return schemaHandle?schemaHandle.getResolvedSchema():this.promise.resolve(null)},JSONSchemaService.prototype.loadSchema=function(url){if(!this.requestService){var errorMessage=jsonSchemaService_localize("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",toDisplayString(url));return this.promise.resolve(new UnresolvedSchema({},[errorMessage]))}return this.requestService(url).then((function(content){if(!content){var errorMessage=jsonSchemaService_localize("json.schema.nocontent","Unable to load schema from '{0}': No content.",toDisplayString(url));return new UnresolvedSchema({},[errorMessage])}var schemaContent,jsonErrors=[];schemaContent=main_parse(content,jsonErrors);var errors=jsonErrors.length?[jsonSchemaService_localize("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",toDisplayString(url),jsonErrors[0].offset)]:[];return new UnresolvedSchema(schemaContent,errors)}),(function(error){var errorMessage=error.toString(),errorSplit=error.toString().split("Error: ");return errorSplit.length>1&&(errorMessage=errorSplit[1]),endsWith(errorMessage,".")&&(errorMessage=errorMessage.substr(0,errorMessage.length-1)),new UnresolvedSchema({},[jsonSchemaService_localize("json.schema.nocontent","Unable to load schema from '{0}': {1}.",toDisplayString(url),errorMessage)])}))},JSONSchemaService.prototype.resolveSchemaContent=function(schemaToResolve,schemaURL,dependencies){var _this=this,resolveErrors=schemaToResolve.errors.slice(0),schema=schemaToResolve.schema;if(schema.$schema){var id=this.normalizeId(schema.$schema);if("http://json-schema.org/draft-03/schema"===id)return this.promise.resolve(new jsonSchemaService_ResolvedSchema({},[jsonSchemaService_localize("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));"https://json-schema.org/draft/2019-09/schema"===id&&schemaToResolve.errors.push(jsonSchemaService_localize("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var contextService=this.contextService,merge=function(target,sourceRoot,sourceURI,path){var section=function(schema,path){if(!path)return schema;var current=schema;return"/"===path[0]&&(path=path.substr(1)),path.split("/").some((function(part){return!(current=current[part])})),current}(sourceRoot,path);if(section)for(var key in section)section.hasOwnProperty(key)&&!target.hasOwnProperty(key)&&(target[key]=section[key]);else resolveErrors.push(jsonSchemaService_localize("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",path,sourceURI))},resolveExternalLink=function(node,uri,linkPath,parentSchemaURL,parentSchemaDependencies){contextService&&!/^\w+:\/\/.*/.test(uri)&&(uri=contextService.resolveRelativePath(uri,parentSchemaURL)),uri=_this.normalizeId(uri);var referencedHandle=_this.getOrAddSchemaHandle(uri);return referencedHandle.getUnresolvedSchema().then((function(unresolvedSchema){if(parentSchemaDependencies[uri]=!0,unresolvedSchema.errors.length){var loc=linkPath?uri+"#"+linkPath:uri;resolveErrors.push(jsonSchemaService_localize("json.schema.problemloadingref","Problems loading reference '{0}': {1}",loc,unresolvedSchema.errors[0]))}return merge(node,unresolvedSchema.schema,uri,linkPath),resolveRefs(node,unresolvedSchema.schema,uri,referencedHandle.dependencies)}))},resolveRefs=function(node,parentSchema,parentSchemaURL,parentSchemaDependencies){if(!node||"object"!=typeof node)return Promise.resolve(null);for(var toWalk=[node],seen=[],openPromises=[],handleRef=function(next){for(var seenRefs=[];next.$ref;){var ref=next.$ref,segments=ref.split("#",2);if(delete next.$ref,segments[0].length>0)return void openPromises.push(resolveExternalLink(next,segments[0],segments[1],parentSchemaURL,parentSchemaDependencies));-1===seenRefs.indexOf(ref)&&(merge(next,parentSchema,parentSchemaURL,segments[1]),seenRefs.push(ref))}!function(){for(var entries=[],_i=0;_i<arguments.length;_i++)entries[_i]=arguments[_i];for(var _a=0,entries_1=entries;_a<entries_1.length;_a++){var entry=entries_1[_a];"object"==typeof entry&&toWalk.push(entry)}}(next.items,next.additionalProperties,next.not,next.contains,next.propertyNames,next.if,next.then,next.else),function(){for(var maps=[],_i=0;_i<arguments.length;_i++)maps[_i]=arguments[_i];for(var _a=0,maps_1=maps;_a<maps_1.length;_a++){var map=maps_1[_a];if("object"==typeof map)for(var key in map){var entry=map[key];"object"==typeof entry&&toWalk.push(entry)}}}(next.definitions,next.properties,next.patternProperties,next.dependencies),function(){for(var arrays=[],_i=0;_i<arguments.length;_i++)arrays[_i]=arguments[_i];for(var _a=0,arrays_1=arrays;_a<arrays_1.length;_a++){var array=arrays_1[_a];if(Array.isArray(array))for(var _b=0,array_1=array;_b<array_1.length;_b++){var entry=array_1[_b];"object"==typeof entry&&toWalk.push(entry)}}}(next.anyOf,next.allOf,next.oneOf,next.items)};toWalk.length;){var next=toWalk.pop();seen.indexOf(next)>=0||(seen.push(next),handleRef(next))}return _this.promise.all(openPromises)};return resolveRefs(schema,schema,schemaURL,dependencies).then((function(_){return new jsonSchemaService_ResolvedSchema(schema,resolveErrors)}))},JSONSchemaService.prototype.getSchemaForResource=function(resource,document){if(document&&document.root&&"object"===document.root.type){var schemaProperties=document.root.properties.filter((function(p){return"$schema"===p.keyNode.value&&p.valueNode&&"string"===p.valueNode.type}));if(schemaProperties.length>0){var schemeId=jsonParser_getNodeValue(schemaProperties[0].valueNode);if(schemeId&&function(haystack,needle){if(haystack.length<needle.length)return!1;for(var i=0;i<needle.length;i++)if(haystack[i]!==needle[i])return!1;return!0}(schemeId,".")&&this.contextService&&(schemeId=this.contextService.resolveRelativePath(schemeId,resource)),schemeId){var id=this.normalizeId(schemeId);return this.getOrAddSchemaHandle(id).getResolvedSchema()}}}for(var seen=Object.create(null),schemas=[],_i=0,_a=this.filePatternAssociations;_i<_a.length;_i++){var entry=_a[_i];if(entry.matchesPattern(resource))for(var _b=0,_c=entry.getSchemas();_b<_c.length;_b++){var schemaId=_c[_b];seen[schemaId]||(schemas.push(schemaId),seen[schemaId]=!0)}}return schemas.length>0?this.createCombinedSchema(resource,schemas).getResolvedSchema():this.promise.resolve(null)},JSONSchemaService.prototype.createCombinedSchema=function(resource,schemaIds){if(1===schemaIds.length)return this.getOrAddSchemaHandle(schemaIds[0]);var combinedSchemaId="schemaservice://combinedSchema/"+encodeURIComponent(resource),combinedSchema={allOf:schemaIds.map((function(schemaId){return{$ref:schemaId}}))};return this.addSchemaHandle(combinedSchemaId,combinedSchema)}}();function toDisplayString(url){try{var uri=vscode_uri.a.parse(url);if("file"===uri.scheme)return uri.fsPath}catch(e){}return url}var jsonValidation_localize=loadMessageBundle(),idCounter=(function(){function JSONValidation(jsonSchemaService,promiseConstructor){this.jsonSchemaService=jsonSchemaService,this.promise=promiseConstructor,this.validationEnabled=!0}JSONValidation.prototype.configure=function(raw){raw&&(this.validationEnabled=raw.validate,this.commentSeverity=raw.allowComments?void 0:DiagnosticSeverity.Error)},JSONValidation.prototype.doValidation=function(textDocument,jsonDocument,documentSettings,schema){var _this=this;if(!this.validationEnabled)return this.promise.resolve([]);var diagnostics=[],added={},addProblem=function(problem){var signature=problem.range.start.line+" "+problem.range.start.character+" "+problem.message;added[signature]||(added[signature]=!0,diagnostics.push(problem))},getDiagnostics=function(schema){var trailingCommaSeverity=documentSettings?toDiagnosticSeverity(documentSettings.trailingCommas):DiagnosticSeverity.Error,commentSeverity=documentSettings?toDiagnosticSeverity(documentSettings.comments):_this.commentSeverity;if(schema){if(schema.errors.length&&jsonDocument.root){var astRoot=jsonDocument.root,property="object"===astRoot.type?astRoot.properties[0]:null;if(property&&"$schema"===property.keyNode.value){var node=property.valueNode||property,range=Range.create(textDocument.positionAt(node.offset),textDocument.positionAt(node.offset+node.length));addProblem(Diagnostic.create(range,schema.errors[0],DiagnosticSeverity.Warning,ErrorCode.SchemaResolveError))}else{range=Range.create(textDocument.positionAt(astRoot.offset),textDocument.positionAt(astRoot.offset+1));addProblem(Diagnostic.create(range,schema.errors[0],DiagnosticSeverity.Warning,ErrorCode.SchemaResolveError))}}else{var semanticErrors=jsonDocument.validate(textDocument,schema.schema);semanticErrors&&semanticErrors.forEach(addProblem)}(function schemaAllowsComments(schemaRef){if(schemaRef&&"object"==typeof schemaRef){if(isBoolean(schemaRef.allowComments))return schemaRef.allowComments;if(schemaRef.allOf)for(var _i=0,_a=schemaRef.allOf;_i<_a.length;_i++){var schema=_a[_i],allow=schemaAllowsComments(schema);if(isBoolean(allow))return allow}}return})(schema.schema)&&(commentSeverity=void 0),function schemaAllowsTrailingCommas(schemaRef){if(schemaRef&&"object"==typeof schemaRef){if(isBoolean(schemaRef.allowTrailingCommas))return schemaRef.allowTrailingCommas;if(isBoolean(schemaRef.allowsTrailingCommas))return schemaRef.allowsTrailingCommas;if(schemaRef.allOf)for(var _i=0,_a=schemaRef.allOf;_i<_a.length;_i++){var schema=_a[_i],allow=schemaAllowsTrailingCommas(schema);if(isBoolean(allow))return allow}}return}(schema.schema)&&(trailingCommaSeverity=void 0)}for(var _i=0,_a=jsonDocument.syntaxErrors;_i<_a.length;_i++){var p=_a[_i];if(p.code===ErrorCode.TrailingComma){if("number"!=typeof trailingCommaSeverity)continue;p.severity=trailingCommaSeverity}addProblem(p)}if("number"==typeof commentSeverity){var message_1=jsonValidation_localize("InvalidCommentToken","Comments are not permitted in JSON.");jsonDocument.comments.forEach((function(c){addProblem(Diagnostic.create(c,message_1,commentSeverity,ErrorCode.CommentNotPermitted))}))}return diagnostics};if(schema){var id=schema.id||"schemaservice://untitled/"+idCounter++;return this.jsonSchemaService.resolveSchemaContent(new UnresolvedSchema(schema),id,{}).then((function(resolvedSchema){return getDiagnostics(resolvedSchema)}))}return this.jsonSchemaService.getSchemaForResource(textDocument.uri,jsonDocument).then((function(schema){return getDiagnostics(schema)}))}}(),0);function toDiagnosticSeverity(severityLevel){switch(severityLevel){case"error":return DiagnosticSeverity.Error;case"warning":return DiagnosticSeverity.Warning;case"ignore":return}}function hexDigit(charCode){return charCode<48?0:charCode<=57?charCode-48:(charCode<97&&(charCode+=32),charCode>=97&&charCode<=102?charCode-97+10:0)}function colorFromHex(text){if("#"!==text[0])return null;switch(text.length){case 4:return{red:17*hexDigit(text.charCodeAt(1))/255,green:17*hexDigit(text.charCodeAt(2))/255,blue:17*hexDigit(text.charCodeAt(3))/255,alpha:1};case 5:return{red:17*hexDigit(text.charCodeAt(1))/255,green:17*hexDigit(text.charCodeAt(2))/255,blue:17*hexDigit(text.charCodeAt(3))/255,alpha:17*hexDigit(text.charCodeAt(4))/255};case 7:return{red:(16*hexDigit(text.charCodeAt(1))+hexDigit(text.charCodeAt(2)))/255,green:(16*hexDigit(text.charCodeAt(3))+hexDigit(text.charCodeAt(4)))/255,blue:(16*hexDigit(text.charCodeAt(5))+hexDigit(text.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*hexDigit(text.charCodeAt(1))+hexDigit(text.charCodeAt(2)))/255,green:(16*hexDigit(text.charCodeAt(3))+hexDigit(text.charCodeAt(4)))/255,blue:(16*hexDigit(text.charCodeAt(5))+hexDigit(text.charCodeAt(6)))/255,alpha:(16*hexDigit(text.charCodeAt(7))+hexDigit(text.charCodeAt(8)))/255}}return null}!function(){function JSONDocumentSymbols(schemaService){this.schemaService=schemaService}JSONDocumentSymbols.prototype.findDocumentSymbols=function(document,doc,context){var _this=this;void 0===context&&(context={resultLimit:Number.MAX_VALUE});var root=doc.root;if(!root)return null;var limit=context.resultLimit,resourceString=document.uri;if(("vscode://defaultsettings/keybindings.json"===resourceString||endsWith(resourceString.toLowerCase(),"/user/keybindings.json"))&&"array"===root.type){for(var result_1=[],_i=0,_a=root.items;_i<_a.length;_i++){var item=_a[_i];if("object"===item.type)for(var _b=0,_c=item.properties;_b<_c.length;_b++){var property=_c[_b];if("key"===property.keyNode.value&&property.valueNode){var location=Location.create(document.uri,getRange(document,item));if(result_1.push({name:jsonParser_getNodeValue(property.valueNode),kind:SymbolKind.Function,location:location}),--limit<=0)return context&&context.onResultLimitExceeded&&context.onResultLimitExceeded(resourceString),result_1}}}return result_1}for(var toVisit=[{node:root,containerName:""}],nextToVisit=0,limitExceeded=!1,result=[],collectOutlineEntries=function(node,containerName){"array"===node.type?node.items.forEach((function(node){node&&toVisit.push({node:node,containerName:containerName})})):"object"===node.type&&node.properties.forEach((function(property){var valueNode=property.valueNode;if(valueNode)if(limit>0){limit--;var location=Location.create(document.uri,getRange(document,property)),childContainerName=containerName?containerName+"."+property.keyNode.value:property.keyNode.value;result.push({name:_this.getKeyLabel(property),kind:_this.getSymbolKind(valueNode.type),location:location,containerName:containerName}),toVisit.push({node:valueNode,containerName:childContainerName})}else limitExceeded=!0}))};nextToVisit<toVisit.length;){var next=toVisit[nextToVisit++];collectOutlineEntries(next.node,next.containerName)}return limitExceeded&&context&&context.onResultLimitExceeded&&context.onResultLimitExceeded(resourceString),result},JSONDocumentSymbols.prototype.findDocumentSymbols2=function(document,doc,context){var _this=this;void 0===context&&(context={resultLimit:Number.MAX_VALUE});var root=doc.root;if(!root)return null;var limit=context.resultLimit,resourceString=document.uri;if(("vscode://defaultsettings/keybindings.json"===resourceString||endsWith(resourceString.toLowerCase(),"/user/keybindings.json"))&&"array"===root.type){for(var result_2=[],_i=0,_a=root.items;_i<_a.length;_i++){var item=_a[_i];if("object"===item.type)for(var _b=0,_c=item.properties;_b<_c.length;_b++){var property=_c[_b];if("key"===property.keyNode.value&&property.valueNode){var range=getRange(document,item),selectionRange=getRange(document,property.keyNode);if(result_2.push({name:jsonParser_getNodeValue(property.valueNode),kind:SymbolKind.Function,range:range,selectionRange:selectionRange}),--limit<=0)return context&&context.onResultLimitExceeded&&context.onResultLimitExceeded(resourceString),result_2}}}return result_2}for(var result=[],toVisit=[{node:root,result:result}],nextToVisit=0,limitExceeded=!1,collectOutlineEntries=function(node,result){"array"===node.type?node.items.forEach((function(node,index){if(node)if(limit>0){limit--;var range=getRange(document,node),selectionRange=range,symbol={name:String(index),kind:_this.getSymbolKind(node.type),range:range,selectionRange:selectionRange,children:[]};result.push(symbol),toVisit.push({result:symbol.children,node:node})}else limitExceeded=!0})):"object"===node.type&&node.properties.forEach((function(property){var valueNode=property.valueNode;if(valueNode)if(limit>0){limit--;var range=getRange(document,property),selectionRange=getRange(document,property.keyNode),symbol={name:_this.getKeyLabel(property),kind:_this.getSymbolKind(valueNode.type),range:range,selectionRange:selectionRange,children:[]};result.push(symbol),toVisit.push({result:symbol.children,node:valueNode})}else limitExceeded=!0}))};nextToVisit<toVisit.length;){var next=toVisit[nextToVisit++];collectOutlineEntries(next.node,next.result)}return limitExceeded&&context&&context.onResultLimitExceeded&&context.onResultLimitExceeded(resourceString),result},JSONDocumentSymbols.prototype.getSymbolKind=function(nodeType){switch(nodeType){case"object":return SymbolKind.Module;case"string":return SymbolKind.String;case"number":return SymbolKind.Number;case"array":return SymbolKind.Array;case"boolean":return SymbolKind.Boolean;default:return SymbolKind.Variable}},JSONDocumentSymbols.prototype.getKeyLabel=function(property){var name=property.keyNode.value;return name&&(name=name.replace(/[\n]/g,"↵")),name&&name.trim()?name:'"'+name+'"'},JSONDocumentSymbols.prototype.findDocumentColors=function(document,doc,context){return this.schemaService.getSchemaForResource(document.uri,doc).then((function(schema){var result=[];if(schema)for(var limit=context&&"number"==typeof context.resultLimit?context.resultLimit:Number.MAX_VALUE,visitedNode={},_i=0,matchingSchemas_1=doc.getMatchingSchemas(schema.schema);_i<matchingSchemas_1.length;_i++){var s=matchingSchemas_1[_i];if(!s.inverted&&s.schema&&("color"===s.schema.format||"color-hex"===s.schema.format)&&s.node&&"string"===s.node.type){var nodeId=String(s.node.offset);if(!visitedNode[nodeId]){var color=colorFromHex(jsonParser_getNodeValue(s.node));if(color){var range=getRange(document,s.node);result.push({color:color,range:range})}if(visitedNode[nodeId]=!0,--limit<=0)return context&&context.onResultLimitExceeded&&context.onResultLimitExceeded(document.uri),result}}}return result}))},JSONDocumentSymbols.prototype.getColorPresentations=function(document,doc,color,range){var label,result=[],red256=Math.round(255*color.red),green256=Math.round(255*color.green),blue256=Math.round(255*color.blue);function toTwoDigitHex(n){var r=n.toString(16);return 2!==r.length?"0"+r:r}return label=1===color.alpha?"#"+toTwoDigitHex(red256)+toTwoDigitHex(green256)+toTwoDigitHex(blue256):"#"+toTwoDigitHex(red256)+toTwoDigitHex(green256)+toTwoDigitHex(blue256)+toTwoDigitHex(Math.round(255*color.alpha)),result.push({label:label,textEdit:TextEdit.replace(range,JSON.stringify(label))}),result}}();function getRange(document,node){return Range.create(document.positionAt(node.offset),document.positionAt(node.offset+node.length))}var configuration_localize=loadMessageBundle(),schemaContributions={schemaAssociations:{},schemas:{"http://json-schema.org/draft-04/schema#":{title:configuration_localize("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{title:configuration_localize("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},descriptions={id:configuration_localize("schema.json.id","A unique identifier for the schema."),$schema:configuration_localize("schema.json.$schema","The schema to verify this document against."),title:configuration_localize("schema.json.title","A descriptive title of the element."),description:configuration_localize("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:configuration_localize("schema.json.default","A default value. Used by suggestions."),multipleOf:configuration_localize("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:configuration_localize("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:configuration_localize("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:configuration_localize("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:configuration_localize("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:configuration_localize("schema.json.maxLength","The maximum length of a string."),minLength:configuration_localize("schema.json.minLength","The minimum length of a string."),pattern:configuration_localize("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:configuration_localize("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:configuration_localize("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:configuration_localize("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:configuration_localize("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:configuration_localize("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:configuration_localize("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:configuration_localize("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:configuration_localize("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:configuration_localize("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:configuration_localize("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:configuration_localize("schema.json.properties","A map of property names to schemas for each property."),patternProperties:configuration_localize("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:configuration_localize("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:configuration_localize("schema.json.enum","The set of literal values that are valid."),type:configuration_localize("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:configuration_localize("schema.json.format","Describes the format expected for the value."),allOf:configuration_localize("schema.json.allOf","An array of schemas, all of which must match."),anyOf:configuration_localize("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:configuration_localize("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:configuration_localize("schema.json.not","A schema which must not match."),$id:configuration_localize("schema.json.$id","A unique identifier for the schema."),$ref:configuration_localize("schema.json.$ref","Reference a definition hosted on any location."),$comment:configuration_localize("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:configuration_localize("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:configuration_localize("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:configuration_localize("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:configuration_localize("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:configuration_localize("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:configuration_localize("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:configuration_localize("schema.json.contentEncoding","Describes the content encoding of a string property."),if:configuration_localize("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:configuration_localize("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:configuration_localize("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var schemaName in schemaContributions.schemas){var configuration_schema=schemaContributions.schemas[schemaName];for(var configuration_property in configuration_schema.properties){var propertyObject=configuration_schema.properties[configuration_property];!0===propertyObject&&(propertyObject=configuration_schema.properties[configuration_property]={});var description=descriptions[configuration_property];description?propertyObject.description=description:console.log(configuration_property+": localize('schema.json."+configuration_property+'\', "")')}}monaco.Uri;var languageFeatures_Range=monaco.Range,DiagnosticsAdapter=function(){function DiagnosticsAdapter(_languageId,_worker,defaults){var _this=this;this._languageId=_languageId,this._worker=_worker,this._disposables=[],this._listener=Object.create(null);var onModelAdd=function(model){var handle,modeId=model.getModeId();modeId===_this._languageId&&(_this._listener[model.uri.toString()]=model.onDidChangeContent((function(){clearTimeout(handle),handle=setTimeout((function(){return _this._doValidate(model.uri,modeId)}),500)})),_this._doValidate(model.uri,modeId))},onModelRemoved=function(model){monaco.editor.setModelMarkers(model,_this._languageId,[]);var uriStr=model.uri.toString(),listener=_this._listener[uriStr];listener&&(listener.dispose(),delete _this._listener[uriStr])};this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd)),this._disposables.push(monaco.editor.onWillDisposeModel((function(model){onModelRemoved(model),_this._resetSchema(model.uri)}))),this._disposables.push(monaco.editor.onDidChangeModelLanguage((function(event){onModelRemoved(event.model),onModelAdd(event.model),_this._resetSchema(event.model.uri)}))),this._disposables.push(defaults.onDidChange((function(_){monaco.editor.getModels().forEach((function(model){model.getModeId()===_this._languageId&&(onModelRemoved(model),onModelAdd(model))}))}))),this._disposables.push({dispose:function(){for(var key in monaco.editor.getModels().forEach(onModelRemoved),_this._listener)_this._listener[key].dispose()}}),monaco.editor.getModels().forEach(onModelAdd)}return DiagnosticsAdapter.prototype.dispose=function(){this._disposables.forEach((function(d){return d&&d.dispose()})),this._disposables=[]},DiagnosticsAdapter.prototype._resetSchema=function(resource){this._worker().then((function(worker){worker.resetSchema(resource.toString())}))},DiagnosticsAdapter.prototype._doValidate=function(resource,languageId){this._worker(resource).then((function(worker){return worker.doValidation(resource.toString()).then((function(diagnostics){var markers=diagnostics.map((function(d){return code="number"==typeof(diag=d).code?String(diag.code):diag.code,{severity:toSeverity(diag.severity),startLineNumber:diag.range.start.line+1,startColumn:diag.range.start.character+1,endLineNumber:diag.range.end.line+1,endColumn:diag.range.end.character+1,message:diag.message,code:code,source:diag.source};var diag,code})),model=monaco.editor.getModel(resource);model&&model.getModeId()===languageId&&monaco.editor.setModelMarkers(model,languageId,markers)}))})).then(void 0,(function(err){console.error(err)}))},DiagnosticsAdapter}();function toSeverity(lsSeverity){switch(lsSeverity){case DiagnosticSeverity.Error:return monaco.MarkerSeverity.Error;case DiagnosticSeverity.Warning:return monaco.MarkerSeverity.Warning;case DiagnosticSeverity.Information:return monaco.MarkerSeverity.Info;case DiagnosticSeverity.Hint:return monaco.MarkerSeverity.Hint;default:return monaco.MarkerSeverity.Info}}function fromPosition(position){if(position)return{character:position.column-1,line:position.lineNumber-1}}function fromRange(range){if(range)return{start:{line:range.startLineNumber-1,character:range.startColumn-1},end:{line:range.endLineNumber-1,character:range.endColumn-1}}}function toRange(range){if(range)return new languageFeatures_Range(range.start.line+1,range.start.character+1,range.end.line+1,range.end.character+1)}function toCompletionItemKind(kind){var mItemKind=monaco.languages.CompletionItemKind;switch(kind){case CompletionItemKind.Text:return mItemKind.Text;case CompletionItemKind.Method:return mItemKind.Method;case CompletionItemKind.Function:return mItemKind.Function;case CompletionItemKind.Constructor:return mItemKind.Constructor;case CompletionItemKind.Field:return mItemKind.Field;case CompletionItemKind.Variable:return mItemKind.Variable;case CompletionItemKind.Class:return mItemKind.Class;case CompletionItemKind.Interface:return mItemKind.Interface;case CompletionItemKind.Module:return mItemKind.Module;case CompletionItemKind.Property:return mItemKind.Property;case CompletionItemKind.Unit:return mItemKind.Unit;case CompletionItemKind.Value:return mItemKind.Value;case CompletionItemKind.Enum:return mItemKind.Enum;case CompletionItemKind.Keyword:return mItemKind.Keyword;case CompletionItemKind.Snippet:return mItemKind.Snippet;case CompletionItemKind.Color:return mItemKind.Color;case CompletionItemKind.File:return mItemKind.File;case CompletionItemKind.Reference:return mItemKind.Reference}return mItemKind.Property}function toTextEdit(textEdit){if(textEdit)return{range:toRange(textEdit.range),text:textEdit.newText}}var languageFeatures_CompletionAdapter=function(){function CompletionAdapter(_worker){this._worker=_worker}return Object.defineProperty(CompletionAdapter.prototype,"triggerCharacters",{get:function(){return[" ",":"]},enumerable:!0,configurable:!0}),CompletionAdapter.prototype.provideCompletionItems=function(model,position,context,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.doComplete(resource.toString(),fromPosition(position))})).then((function(info){if(info){var wordInfo=model.getWordUntilPosition(position),wordRange=new languageFeatures_Range(position.lineNumber,wordInfo.startColumn,position.lineNumber,wordInfo.endColumn),items=info.items.map((function(entry){var item={label:entry.label,insertText:entry.insertText||entry.label,sortText:entry.sortText,filterText:entry.filterText,documentation:entry.documentation,detail:entry.detail,range:wordRange,kind:toCompletionItemKind(entry.kind)};return entry.textEdit&&(item.range=toRange(entry.textEdit.range),item.insertText=entry.textEdit.newText),entry.additionalTextEdits&&(item.additionalTextEdits=entry.additionalTextEdits.map(toTextEdit)),entry.insertTextFormat===InsertTextFormat.Snippet&&(item.insertTextRules=monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet),item}));return{isIncomplete:info.isIncomplete,suggestions:items}}}))},CompletionAdapter}();function toMarkdownString(entry){return"string"==typeof entry?{value:entry}:(thing=entry)&&"object"==typeof thing&&"string"==typeof thing.kind?"plaintext"===entry.kind?{value:entry.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:entry.value}:{value:"```"+entry.language+"\n"+entry.value+"\n```\n"};var thing}function toMarkedStringArray(contents){if(contents)return Array.isArray(contents)?contents.map(toMarkdownString):[toMarkdownString(contents)]}var HoverAdapter=function(){function HoverAdapter(_worker){this._worker=_worker}return HoverAdapter.prototype.provideHover=function(model,position,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.doHover(resource.toString(),fromPosition(position))})).then((function(info){if(info)return{range:toRange(info.range),contents:toMarkedStringArray(info.contents)}}))},HoverAdapter}();function toSymbolKind(kind){var mKind=monaco.languages.SymbolKind;switch(kind){case SymbolKind.File:return mKind.Array;case SymbolKind.Module:return mKind.Module;case SymbolKind.Namespace:return mKind.Namespace;case SymbolKind.Package:return mKind.Package;case SymbolKind.Class:return mKind.Class;case SymbolKind.Method:return mKind.Method;case SymbolKind.Property:return mKind.Property;case SymbolKind.Field:return mKind.Field;case SymbolKind.Constructor:return mKind.Constructor;case SymbolKind.Enum:return mKind.Enum;case SymbolKind.Interface:return mKind.Interface;case SymbolKind.Function:return mKind.Function;case SymbolKind.Variable:return mKind.Variable;case SymbolKind.Constant:return mKind.Constant;case SymbolKind.String:return mKind.String;case SymbolKind.Number:return mKind.Number;case SymbolKind.Boolean:return mKind.Boolean;case SymbolKind.Array:return mKind.Array}return mKind.Function}var DocumentSymbolAdapter=function(){function DocumentSymbolAdapter(_worker){this._worker=_worker}return DocumentSymbolAdapter.prototype.provideDocumentSymbols=function(model,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.findDocumentSymbols(resource.toString())})).then((function(items){if(items)return items.map((function(item){return{name:item.name,detail:"",containerName:item.containerName,kind:toSymbolKind(item.kind),range:toRange(item.location.range),selectionRange:toRange(item.location.range),tags:[]}}))}))},DocumentSymbolAdapter}();function fromFormattingOptions(options){return{tabSize:options.tabSize,insertSpaces:options.insertSpaces}}var DocumentFormattingEditProvider=function(){function DocumentFormattingEditProvider(_worker){this._worker=_worker}return DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits=function(model,options,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.format(resource.toString(),null,fromFormattingOptions(options)).then((function(edits){if(edits&&0!==edits.length)return edits.map(toTextEdit)}))}))},DocumentFormattingEditProvider}(),DocumentRangeFormattingEditProvider=function(){function DocumentRangeFormattingEditProvider(_worker){this._worker=_worker}return DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits=function(model,range,options,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.format(resource.toString(),fromRange(range),fromFormattingOptions(options)).then((function(edits){if(edits&&0!==edits.length)return edits.map(toTextEdit)}))}))},DocumentRangeFormattingEditProvider}(),DocumentColorAdapter=function(){function DocumentColorAdapter(_worker){this._worker=_worker}return DocumentColorAdapter.prototype.provideDocumentColors=function(model,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.findDocumentColors(resource.toString())})).then((function(infos){if(infos)return infos.map((function(item){return{color:item.color,range:toRange(item.range)}}))}))},DocumentColorAdapter.prototype.provideColorPresentations=function(model,info,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.getColorPresentations(resource.toString(),info.color,fromRange(info.range))})).then((function(presentations){if(presentations)return presentations.map((function(presentation){var item={label:presentation.label};return presentation.textEdit&&(item.textEdit=toTextEdit(presentation.textEdit)),presentation.additionalTextEdits&&(item.additionalTextEdits=presentation.additionalTextEdits.map(toTextEdit)),item}))}))},DocumentColorAdapter}(),FoldingRangeAdapter=function(){function FoldingRangeAdapter(_worker){this._worker=_worker}return FoldingRangeAdapter.prototype.provideFoldingRanges=function(model,context,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.getFoldingRanges(resource.toString(),context)})).then((function(ranges){if(ranges)return ranges.map((function(range){var result={start:range.startLine+1,end:range.endLine+1};return void 0!==range.kind&&(result.kind=function(kind){switch(kind){case FoldingRangeKind.Comment:return monaco.languages.FoldingRangeKind.Comment;case FoldingRangeKind.Imports:return monaco.languages.FoldingRangeKind.Imports;case FoldingRangeKind.Region:return monaco.languages.FoldingRangeKind.Region}return}(range.kind)),result}))}))},FoldingRangeAdapter}();var SelectionRangeAdapter=function(){function SelectionRangeAdapter(_worker){this._worker=_worker}return SelectionRangeAdapter.prototype.provideSelectionRanges=function(model,positions,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.getSelectionRanges(resource.toString(),positions.map(fromPosition))})).then((function(selectionRanges){if(selectionRanges)return selectionRanges.map((function(selectionRange){for(var result=[];selectionRange;)result.push({range:toRange(selectionRange.range)}),selectionRange=selectionRange.parent;return result}))}))},SelectionRangeAdapter}();function createTokenizationSupport(supportComments){return{getInitialState:function(){return new JSONState(null,null,!1)},tokenize:function(line,state,offsetDelta,stopAtOffset){return function(comments,line,state,offsetDelta,stopAtOffset){void 0===offsetDelta&&(offsetDelta=0);var numberOfInsertedCharacters=0,adjustOffset=!1;switch(state.scanError){case 2:line='"'+line,numberOfInsertedCharacters=1;break;case 1:line="/*"+line,numberOfInsertedCharacters=2}var kind,ret,scanner=main_createScanner(line),lastWasColon=state.lastWasColon;ret={tokens:[],endState:state.clone()};for(;;){var offset=offsetDelta+scanner.getPosition(),type="";if(17===(kind=scanner.scan()))break;if(offset===offsetDelta+scanner.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+line.substr(scanner.getPosition(),3));switch(adjustOffset&&(offset-=numberOfInsertedCharacters),adjustOffset=numberOfInsertedCharacters>0,kind){case 1:case 2:type="delimiter.bracket.json",lastWasColon=!1;break;case 3:case 4:type="delimiter.array.json",lastWasColon=!1;break;case 6:type="delimiter.colon.json",lastWasColon=!0;break;case 5:type="delimiter.comma.json",lastWasColon=!1;break;case 8:case 9:case 7:type="keyword.json",lastWasColon=!1;break;case 10:type=lastWasColon?"string.value.json":"string.key.json",lastWasColon=!1;break;case 11:type="number.json",lastWasColon=!1}if(comments)switch(kind){case 12:type="comment.line.json";break;case 13:type="comment.block.json"}ret.endState=new JSONState(state.getStateData(),scanner.getTokenError(),lastWasColon),ret.tokens.push({startIndex:offset,scopes:type})}return ret}(supportComments,line,state,offsetDelta)}}}var JSONState=function(){function JSONState(state,scanError,lastWasColon){this._state=state,this.scanError=scanError,this.lastWasColon=lastWasColon}return JSONState.prototype.clone=function(){return new JSONState(this._state,this.scanError,this.lastWasColon)},JSONState.prototype.equals=function(other){return other===this||!!(other&&other instanceof JSONState)&&(this.scanError===other.scanError&&this.lastWasColon===other.lastWasColon)},JSONState.prototype.getStateData=function(){return this._state},JSONState.prototype.setStateData=function(state){this._state=state},JSONState}();function setupMode(defaults){var disposables=[],providers=[],client=new WorkerManager(defaults);disposables.push(client);var worker=function(){for(var uris=[],_i=0;_i<arguments.length;_i++)uris[_i]=arguments[_i];return client.getLanguageServiceWorker.apply(client,uris)};function registerProviders(){var languageId=defaults.languageId,modeConfiguration=defaults.modeConfiguration;disposeAll(providers),modeConfiguration.documentFormattingEdits&&providers.push(monaco.languages.registerDocumentFormattingEditProvider(languageId,new DocumentFormattingEditProvider(worker))),modeConfiguration.documentRangeFormattingEdits&&providers.push(monaco.languages.registerDocumentRangeFormattingEditProvider(languageId,new DocumentRangeFormattingEditProvider(worker))),modeConfiguration.completionItems&&providers.push(monaco.languages.registerCompletionItemProvider(languageId,new languageFeatures_CompletionAdapter(worker))),modeConfiguration.hovers&&providers.push(monaco.languages.registerHoverProvider(languageId,new HoverAdapter(worker))),modeConfiguration.documentSymbols&&providers.push(monaco.languages.registerDocumentSymbolProvider(languageId,new DocumentSymbolAdapter(worker))),modeConfiguration.tokens&&providers.push(monaco.languages.setTokensProvider(languageId,createTokenizationSupport(!0))),modeConfiguration.colors&&providers.push(monaco.languages.registerColorProvider(languageId,new DocumentColorAdapter(worker))),modeConfiguration.foldingRanges&&providers.push(monaco.languages.registerFoldingRangeProvider(languageId,new FoldingRangeAdapter(worker))),modeConfiguration.diagnostics&&providers.push(new DiagnosticsAdapter(languageId,worker,defaults)),modeConfiguration.selectionRanges&&providers.push(monaco.languages.registerSelectionRangeProvider(languageId,new SelectionRangeAdapter(worker)))}registerProviders(),disposables.push(monaco.languages.setLanguageConfiguration(defaults.languageId,richEditConfiguration));var modeConfiguration=defaults.modeConfiguration;return defaults.onDidChange((function(newDefaults){newDefaults.modeConfiguration!==modeConfiguration&&(modeConfiguration=newDefaults.modeConfiguration,registerProviders())})),disposables.push(asDisposable(providers)),asDisposable(disposables)}function asDisposable(disposables){return{dispose:function(){return disposeAll(disposables)}}}function disposeAll(disposables){for(;disposables.length;)disposables.pop().dispose()}var richEditConfiguration={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]}}}]);
//# sourceMappingURL=13.js.map